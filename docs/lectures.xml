<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>ZOOL710 Data Science in R for Biologists</title>
<link>https://mbutler808.github.io/lectures.html</link>
<atom:link href="https://mbutler808.github.io/lectures.xml" rel="self" type="application/rss+xml"/>
<description>Course website for Data Science in R for Biologists (ZOOL 710) in Spring 2023</description>
<generator>quarto-1.2.313</generator>
<lastBuildDate>Tue, 07 Feb 2023 10:00:00 GMT</lastBuildDate>
<item>
  <title>Saving your work as R scripts</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-02-07-scripts/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<!-- # Pre-lecture materials -->
<!-- R emoji aliases:  https://gist.github.com/rxaviers/7360908 -->
<p>‚úèÔ∏è</p>
<section id="read-ahead" class="level3">
<h3 class="anchored" data-anchor-id="read-ahead">Read ahead</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li>Add here.</li>
<li>Add here.</li>
</ol>
</div>
</div>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know how to build good scripts</li>
<li>Be able to run source code</li>
<li>Be able to verify your script</li>
<li>Know how to start debugging scripts</li>
<li>Know how to clear your workspace</li>
<li>Know how to use <code>print()</code> and <code>cat()</code>, functions and use your history file</li>
</ul>
</div>
</div>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Because R is interactive, it is tempting to simply play with code until you get the results you want. The problem with this is that you may not be able to <strong>reproduce</strong> it. Also, you may have made many manipulations of your data, some of which you‚Äôve lost track of, and so your data objects may not really be what you think they are. This makes it impossible to repeat your analysis with confidence.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
A key part of any analysis is verification:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Did you do what you really think you did?</li>
<li>Was the input free of error?</li>
<li>Did the steps of your analysis work without error?</li>
<li>And perhaps most importantly ‚Äì can you reproduce it?</li>
</ul>
</div>
</div>
</section>
<section id="clean-scripts" class="level1">
<h1>Clean Scripts</h1>
<p>Writing <strong>clean scripts</strong> help you to accomplish these goals. <em>Scripts are lines of code saved in an ordinary text file with a <code>.R</code> or <code>.r</code> ending.</em> (Make sure it is plain text, and NOT an <code>.rtf</code>, <code>.doc</code>, or other type of binary file.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
All good script follows the first three R‚Äôs, as you increase along the path of R jedi-hood, you will add on the 4th R
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Readable ‚Äì If you look at the script in a month or 6 months, will you be able to easily understand it?</li>
<li>Right ‚Äì Does it run free of error, and does it produce correct results?</li>
<li>Repeatable ‚Äì Can you reproduce your results from your input data?</li>
<li>Reusable ‚Äì Is your coding modular and designed well so that your code can interact with other scripts, and/or use it for other purposes?</li>
</ul>
</div>
</div>
<p>The mac interface has a very nice text editor, and the newer Windows R interfaces are getting better too (or install Notepad++). From the R menu, choose File &gt; New Document (or command-N). Simply type or cut and paste your code from your history file into here. Let‚Äôs make a script for the analyses we‚Äôve done thus far.</p>
</section>
<section id="script-template" class="level1">
<h1>Script Template</h1>
<p>First, make sure that you are in the directory that you want the script to execute from (<code>Rclass\...</code>). Start off with any packages that you wish to load, then begin to cut and paste your code.</p>
<p>Make sure to add comments indicated by the <code>#</code> symbol so that you know what the code does:</p>
<p>Here is the basic structure of a script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;">#require( ...addonpackage... )    # anything between ... needs to be changed </span></span>
<span id="cb1-2">      <span class="co" style="color: #5E5E5E;"># if none, then you don't need that line</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;">#dat &lt;- read.csv(..."your input file.csv"... )       # input data</span></span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;"># Your lines of code to run analyses</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;"># You may have output or processed data that you want to save, </span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;"># create an object for it and write it out to a csv file at the end </span></span>
<span id="cb1-9"></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;"># plot graphics</span></span>
<span id="cb1-11"></span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;">write.csv</span>(out, <span class="at" style="color: #657422;">file=</span><span class="st" style="color: #20794D;">"myoutput.csv"</span>)      <span class="co" style="color: #5E5E5E;"># output data </span></span></code></pre></div>
</div>
<p>And here is a simple example script that reads in data, calculates summary statistics, a linear regression, and a couple of figures.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;">#require(stats)        # stats is part of the base package and doesn't need to be loaded, </span></span>
<span id="cb2-2">    <span class="co" style="color: #5E5E5E;"># but if you need an add-on package, you would require it here.</span></span>
<span id="cb2-3"></span>
<span id="cb2-4">dat <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.csv</span> (<span class="st" style="color: #20794D;">"Data/morphpre.csv"</span>)  <span class="co" style="color: #5E5E5E;"># read in data</span></span>
<span id="cb2-5"></span>
<span id="cb2-6">lm.HLSVL <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(dat<span class="sc" style="color: #5E5E5E;">$</span>HandL <span class="sc" style="color: #5E5E5E;">~</span> dat<span class="sc" style="color: #5E5E5E;">$</span>SVL)   <span class="co" style="color: #5E5E5E;"># run a linear model</span></span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;">summary</span>(lm.HLSVL) <span class="co" style="color: #5E5E5E;"># get summary statistics</span></span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;">str</span>(lm.HLSVL) <span class="co" style="color: #5E5E5E;"># look at the linear model object</span></span>
<span id="cb2-10"><span class="fu" style="color: #4758AB;">coef</span>(lm.HLSVL)[<span class="dv" style="color: #AD0000;">2</span>] <span class="co" style="color: #5E5E5E;"># get the slope of the regression</span></span>
<span id="cb2-11"></span>
<span id="cb2-12"><span class="fu" style="color: #4758AB;">plot</span>(dat<span class="sc" style="color: #5E5E5E;">$</span>HandL <span class="sc" style="color: #5E5E5E;">~</span> dat<span class="sc" style="color: #5E5E5E;">$</span>SVL, <span class="at" style="color: #657422;">cex=</span><span class="dv" style="color: #AD0000;">2</span>)    <span class="co" style="color: #5E5E5E;"># make a plot with big dots (cex controls size of symbols)</span></span>
<span id="cb2-13"><span class="fu" style="color: #4758AB;">abline</span>(lm.HLSVL, <span class="at" style="color: #657422;">col=</span><span class="st" style="color: #20794D;">"red"</span>)              <span class="co" style="color: #5E5E5E;"># plots the regression line, in red</span></span>
<span id="cb2-14">  <span class="fu" style="color: #4758AB;">title</span>(<span class="st" style="color: #20794D;">"Microhylid Hand Length vs Body Size"</span>)  <span class="co" style="color: #5E5E5E;"># add a title</span></span>
<span id="cb2-15">  <span class="fu" style="color: #4758AB;">text</span>(<span class="at" style="color: #657422;">x=</span><span class="dv" style="color: #AD0000;">15</span>, <span class="at" style="color: #657422;">y=</span><span class="dv" style="color: #AD0000;">13</span>, <span class="fu" style="color: #4758AB;">paste</span>(<span class="st" style="color: #20794D;">"slope = "</span>, <span class="fu" style="color: #4758AB;">coef</span>(lm.HLSVL)[<span class="dv" style="color: #AD0000;">2</span>]))   </span>
<span id="cb2-16">      <span class="co" style="color: #5E5E5E;"># add important info to the text</span></span>
<span id="cb2-17"></span>
<span id="cb2-18"><span class="do" style="color: #5E5E5E;
font-style: italic;">###</span></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;"># please insert your other lines of code here -- enough </span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;">#   to save a meaningful analysis</span></span>
<span id="cb2-21"><span class="do" style="color: #5E5E5E;
font-style: italic;">###</span></span></code></pre></div>
</div>
<p>Note that I have used spacing and indents to increase the ``readability‚Äô‚Äô of the code. Use it to set of blocks of code that accomplish one task, with indents to indicate heirarchy. We will talk more about this in the functions section.</p>
<p>Save the script file as ‚Äú<code>testScript.R</code> or a title of your choice in your class folder. Now if you want to run the code, you simply type at the R console (from within your Rclass directory):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">source</span>(<span class="st" style="color: #20794D;">"testScript.R"</span>)</span></code></pre></div>
</div>
<p>When I am trying to develop a script, I often work by having the script window open next to the R console, and once a bit of code is working, I cut and paste it directly into the script. Save the script and source it. Once you have a good amount of code, you can work by making changes to the script, saving, and sourcing, over and over again.</p>
</section>
<section id="writing-pdf-to-file" class="level1">
<h1>Writing pdf to file</h1>
<p>If you‚Äôd like to print your pdf to a file instead of to the screen, you can add the following code into your script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">pdf</span>(<span class="at" style="color: #657422;">file=</span><span class="st" style="color: #20794D;">"MicrohylidHandLvsSize.pdf"</span>) <span class="co" style="color: #5E5E5E;"># open pdf device for printing</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;">plot</span>(dat<span class="sc" style="color: #5E5E5E;">$</span>HandL <span class="sc" style="color: #5E5E5E;">~</span> dat<span class="sc" style="color: #5E5E5E;">$</span>SVL, <span class="at" style="color: #657422;">cex=</span><span class="dv" style="color: #AD0000;">2</span>)  <span class="co" style="color: #5E5E5E;"># remake plot as before</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;">abline</span>(lm.HLSVL, <span class="at" style="color: #657422;">col=</span><span class="st" style="color: #20794D;">"red"</span>)              </span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;">title</span>(<span class="st" style="color: #20794D;">"Microhylid Hand Length vs Body Size"</span>)  </span>
<span id="cb4-5">    <span class="fu" style="color: #4758AB;">text</span>(<span class="at" style="color: #657422;">x=</span><span class="dv" style="color: #AD0000;">15</span>, <span class="at" style="color: #657422;">y=</span><span class="dv" style="color: #AD0000;">13</span>, <span class="fu" style="color: #4758AB;">paste</span>(<span class="st" style="color: #20794D;">"slope = "</span>, <span class="fu" style="color: #4758AB;">coef</span>(lm.HLSVL)[<span class="dv" style="color: #AD0000;">2</span>]))  </span>
<span id="cb4-6"><span class="fu" style="color: #4758AB;">dev.off</span>() <span class="co" style="color: #5E5E5E;"># turn off pdf device so future plots go back to screen</span></span></code></pre></div>
</div>
</section>
<section id="history-file" class="level1">
<h1>History file</h1>
<p>Another handy feature of R is that it automatically saves a history file. That is, a file that has a list of every command you‚Äôve executed in your sessions.</p>
<p>It is saved by default as <code>.history</code> in your working directory. Because the file name begins with a period, it is not visible normally (although it is there ‚Äì you can see it from the terminal by using the <code>ls -a</code> command). It is great to have in case you are in a bind, but a better practice is to save any important history explicitly with your own filename, either click on the history button on the R gui (box with yellow and blue lines), and click on ‚Äúsave history‚Äù at the bottom of the side window, or type the code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">savehistory</span>(<span class="at" style="color: #657422;">file =</span> <span class="st" style="color: #20794D;">"date_today.Rhistory"</span>)</span></code></pre></div>
</div>
<p>This is an ordinary text file, which you can open up and edit (removing all the mistakes), and save as a <code>scriptname.R</code> file.</p>
<p>Another helpful tip when writing source code is to use <code>print()</code> and <code>cat()</code> functions to print out your output to the console. When you are using R in interactive mode, when you type the name of a variable, you get a print of its contents. However, when you source the same code, the variable does not print to the screen. You have to explicitly put a <code>print()</code> or <code>cat()</code> function around it.</p>
<p>Let‚Äôs use a built-in dataset called <code>iris</code>, which is the famous Fisher iris dataset. Make a test script file and save it as <code>test.R</code>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test.R</strong></pre>
</div>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;">names</span><span class="er" style="color: #AD0000;">(</span><span class="ex" style="color: null;">iris</span><span class="kw" style="color: #003B4F;">)</span>   <span class="co" style="color: #5E5E5E;"># will not print to console when sourced</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="ex" style="color: null;">spp</span> <span class="op" style="color: #5E5E5E;">&lt;</span>- unique<span class="er" style="color: #AD0000;">(</span><span class="ex" style="color: null;">iris</span><span class="va" style="color: #111111;">$Species</span><span class="kw" style="color: #003B4F;">)</span>  <span class="co" style="color: #5E5E5E;"># only unique values</span></span>
<span id="cb6-4"><span class="ex" style="color: null;">spp</span> <span class="op" style="color: #5E5E5E;">&lt;</span>- as.character<span class="er" style="color: #AD0000;">(</span><span class="ex" style="color: null;">spp</span><span class="kw" style="color: #003B4F;">)</span>     <span class="co" style="color: #5E5E5E;"># factor -&gt; character</span></span>
<span id="cb6-5"><span class="ex" style="color: null;">spp</span>   <span class="co" style="color: #5E5E5E;"># will not print to console when sourced</span></span>
<span id="cb6-6"></span>
<span id="cb6-7"><span class="ex" style="color: null;">print</span><span class="er" style="color: #AD0000;">(</span><span class="st" style="color: #20794D;">'Species names'</span><span class="kw" style="color: #003B4F;">)</span>  <span class="co" style="color: #5E5E5E;"># will print</span></span>
<span id="cb6-8"><span class="ex" style="color: null;">print</span><span class="er" style="color: #AD0000;">(</span><span class="ex" style="color: null;">spp</span><span class="kw" style="color: #003B4F;">)</span>              <span class="co" style="color: #5E5E5E;"># will print</span></span>
<span id="cb6-9"></span>
<span id="cb6-10"><span class="fu" style="color: #4758AB;">cat</span><span class="er" style="color: #AD0000;">(</span><span class="st" style="color: #20794D;">'\n'</span><span class="ex" style="color: null;">,</span> <span class="st" style="color: #20794D;">'Species names ='</span>, spp<span class="kw" style="color: #003B4F;">)</span>  <span class="co" style="color: #5E5E5E;"># concatenate </span></span>
<span id="cb6-11">    <span class="co" style="color: #5E5E5E;"># \n is a carriage return character</span></span>
<span id="cb6-12"><span class="ex" style="color: null;">summary</span><span class="er" style="color: #AD0000;">(</span><span class="ex" style="color: null;">iris</span><span class="kw" style="color: #003B4F;">)</span></span></code></pre></div>
</div>
<p>Then test it by running:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">source</span>(<span class="st" style="color: #20794D;">"test.R"</span>)</span></code></pre></div>
</div>
<p>You can see that <code>print()</code> just makes a rough dump of the variables onto the screen. I added a character string so that we would know what variable was being printed to screen. <code>cat()</code> makes a nicer, more customized display (it turns everything into a character vector, then pastes them together [i.e., concatenates them] before printing). They both do the same basic job, however. Notice also that <code>summary()</code> does print to screen. Usually you only need to use these explicit print statements to see the contents of your variables as you are debugging.</p>
</section>
<section id="remember-the-workspace" class="level1">
<h1>Remember the workspace</h1>
<p>Finally, remember that R is interactive, and the objects you create during a session are still around even after you‚Äôve run your source code and forgotten about them. So to really check that your script is complete, you should shut down R (don‚Äôt save the workspace), double click on the name of your script to restart R in the correct directory, and then source the program again. Does it work? Great!!</p>
<p>You could also try clearing all the objects from your workspace using the command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;">rm</span>(<span class="at" style="color: #657422;">list=</span><span class="fu" style="color: #4758AB;">ls</span>())     <span class="co" style="color: #5E5E5E;"># remove a list of objects consisting of the entire workspace</span></span></code></pre></div>
</div>
<p>But this doesn‚Äôt unload your packages, and there is still a danger that the script won‚Äôt run in a fresh session if you forgot to include loadig the packages in your script. It‚Äôs OK to use for minor incremental changes, but the best thing for a real test when you are done drafting your script is to quit R and retry with a blank slate.</p>
<p>In general, most of my analyses are pretty quick in terms of computer time (not coding and debugging time!). So I never save my workspace, because I don‚Äôt want to deal with any <strong>ghost</strong> objects I have forgotten about. Instead, I write a nice script that will generate the whole analysis. If it‚Äôs a really big complex analysis, you can save intermediate output as R data files (more on this later).</p>
<p>Try to create a script file for all the analyses we‚Äôve done so far (and for every session throughout the course).</p>
</section>
<section id="let ªs-get-organized" class="level1">
<h1>Let ªs get Organized</h1>
<section id="text-editor-environment" class="level2">
<h2 class="anchored" data-anchor-id="text-editor-environment">Text editor environment</h2>
<p>While I love the R text editor for writing R scripts, for working with multiple .qmd and other files I find it helpful to have a full-featured plain text editor. A new tool that I discovered is the Sublime text editor. If you ªd like to try it out, you can download it here: <a href="https://www.sublimetext.com" class="uri">https://www.sublimetext.com</a></p>
<p>A couple of features I like is that you can have multiple panes open. For example if you want to copy text from an old script to a new script, you can easily see and do that.</p>
<p>It also allows you to organize <em>Projects</em>, various folders that will appear on the sidebar to preserve your workspace. So for example if you have your Rclass folder in one place and your website folder in another, you can have both open within the Sublime project. When you finish working on it you can save the project and reopen it later.</p>
<p>To create a project start by opening a new file. Then choose the <code>Project &gt; Add folder to Project...</code> on the menu bar. You can load mulitple folders.</p>
</section>
<section id="different-desktop-windows" class="level2">
<h2 class="anchored" data-anchor-id="different-desktop-windows">Different Desktop Windows</h2>
<p>It ªs also nice to have multiple desktops to organize your work. - It makes it easier to find your different apps. - You may have one workspace for your text editor, and another for your Terminal or CMD prompt, for example. - If I am working with multiple git repos, I might have a separate Terminal open for each one (on the same desktop).</p>
<p>To use multiple desktops: <a href="https://support.microsoft.com/en-us/windows/multiple-desktops-in-windows-36f52e38-5b4a-557b-2ff9-e1a60c976434">On Windows</a> <a href="https://support.apple.com/guide/mac-help/work-in-multiple-spaces-mh14112/mac">On Mac</a></p>
<p>One the Mac, you can open new desktops by using three fingers to swipe up on the trackpad. Switch between them by swiping left or right with three fingers.</p>
</section>
<section id="organize-your-projects-into-folders" class="level2">
<h2 class="anchored" data-anchor-id="organize-your-projects-into-folders">Organize your Projects into Folders</h2>
<p>We ªve been learning about reproducibility. One important aspect is file organization. Each project should be organized into one folder that contains:</p>
<ul>
<li>All input data (usually in a Data folder)</li>
<li>All code and documentation</li>
<li>All output</li>
</ul>
<p>The idea is to keep everything complete, self-contained, and clear. Move old versions into a ‚ÄúTrash‚Äù folder. If you don ªt end up looking back at it, then delete it! (Or if you are bold, delete it right away!)</p>
<p>A really useful UNIX/CMD command is <code>tree</code>. It shows you the directory structure contained within any folder. It works on both MacOS and Windows.</p>
<p>This is in ASCII ‚Äì so you can copy and paste it into your README.md file!</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal/CMD</strong></pre>
</div>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;">tree</span> myfolder</span></code></pre></div>
</div>
<p>If it is not pre-installed on your mac, you may need to install it with homebrew:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;">brew</span> install tree</span></code></pre></div>
</div>
</section>
</section>
<section id="exercises" class="level1">
<h1>Exercises</h1>
<ol type="1">
<li>Create a script of the work we‚Äôve done so far.</li>
<li>R has great diagnostic plots for linear models. Read about them in the help page for <code>?plot.lm</code> and incorporate a multi-panel figure by adding two lines of code to the script you‚Äôve already made:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;">par</span>(<span class="at" style="color: #657422;">mfrow =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>,<span class="dv" style="color: #AD0000;">2</span>))   <span class="co" style="color: #5E5E5E;"># set the plot environment to have two rows and two columns</span></span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;">plot</span>(lmHLSVL)  <span class="co" style="color: #5E5E5E;"># or the name of your linear model object          </span></span></code></pre></div>
</div>
<ol start="3" type="1">
<li>Save output to a file.</li>
<li>Modify <code>test.R</code> so that a summary of the iris data prints to the console when sourced.</li>
<li>Explore other datasets in R. At the R command prompt type <code>data()</code> to see what is available.</li>
</ol>


</section>

 ]]></description>
  <category>module 1</category>
  <category>week 3</category>
  <category>R</category>
  <category>scripts</category>
  <category>reproducibility</category>
  <guid>https://mbutler808.github.io/posts/2023-02-07-scripts/index.html</guid>
  <pubDate>Tue, 07 Feb 2023 10:00:00 GMT</pubDate>
</item>
<item>
  <title>What is the question?</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-31-what-is-the-question/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="pre-lecture-materials" class="level1">
<h1>Pre-lecture materials</h1>
<section id="read-ahead" class="level2">
<h2 class="anchored" data-anchor-id="read-ahead">Read ahead</h2>
<ul>
<li>Take a look at the data in this recent paper: <a href="https://doi.org/10.1073/pnas.2216789120">Winchell et. al, (2023)</a> Genome-wide parallelism underlies contemporary adaptation in urban lizards. PNAS 120 (3) e2216789120 <strong>Check SLACK channel for pdf</strong></li>
</ul>
</section>
<section id="watch-ahead-a-motivating-example-for-the-whole-endeavor-of-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="watch-ahead-a-motivating-example-for-the-whole-endeavor-of-data-analysis">Watch ahead: A Motivating Example for the whole endeavor of data analysis</h2>
<!-- R emoji aliases:  https://gist.github.com/rxaviers/7360908 -->
<p>In the age of Artificial Intelligence (AI), we have many data-intensive tools available. But can we just throw more data at a problem to get better outcomes? Please watch this thought provoking short talk by <a href="https://www.ted.com/speakers/sebastian_wernicke">Sebastian Wernicke</a> ‚ÄúHow to use data to make a hit TV show‚Äù‚Ä¶ What goes wrong when we look for decisions in the wrong places üå¥</p>
<div style="position:relative;height:0;padding-bottom:56.25%">
<iframe src="https://embed.ted.com/talks/lang/en/sebastian_wernicke_how_to_use_data_to_make_a_hit_tv_show" width="854" height="480" style="position:absolute;left:0;top:0;width:100%;height:100%" frameborder="0" scrolling="no" allowfullscreen="">
</iframe>
</div>
</section>
</section>
<section id="can-we-design-a-hit-tv-show-or-anything-of-importance-with-data" class="level1">
<h1>Can we design a hit TV show (or anything of importance) with data?</h1>
<p>The Wizard of Oz (1939) starring Judy Garland was the first major motion picture in color via the complex Technicolor process. It was a tremendous success. I remember my father telling me about what a huge event it was when it came to his small town. Yet, would it have been an inevitable success? Even at that time, there were many other movies, and there were a lot of doubts about whether the American audience would accept the fantasy story, the length, the musical choices, the actors, and so many other variables. Even though the movie landscape was much simpler then, it was still multivariate.</p>
<div id="fig-oz" class="quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="https://mbutler808.github.io/posts/2023-01-31-what-is-the-question/http:/www.posterwire.com/wp-content/images/wizard_of_oz.jpg" class="img-fluid figure-img" width="300"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="https://mbutler808.github.io/posts/2023-01-31-what-is-the-question/https:/upload.wikimedia.org/wikipedia/commons/d/d6/The_Wizard_of_Oz_Judy_Garland_Terry_1939.jpg" id="fig-judy" class="img-fluid figure-img" width="300"><a href="">Judy Garland and Dorothy, and Toto, NBC television network</a></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: <a href="https://en.wikipedia.org/wiki/The_Wizard_of_Oz_(1939_film)">The Wizard of Oz, MGM 1939</a></figcaption><p></p>
</figure>
</div>
<p>Yet there must be something to the analysis of data into human behavior. Internet companies sell our web browsing history, there are still opinion polls, demographic surveys, and the like. Do these types of data differ? Can we do better?</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions for ‚ÄúHow to use data to make a hit TV show‚Äù
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The first study produced a TV show that was perfectly average. How do you imagine they approached the data, and what might have been the difference with the study that led to the hit show?</li>
<li>How do shows become hits? Is the underlying mechanim complex? Or is the predictive data complex? or both? What contributes to complexity?</li>
<li>What is a good role for data analysis in this type of question?</li>
<li>Can we really ‚Äúlet the data tell us the answer‚Äù? What does such a statement leave unstated?</li>
</ul>
</div>
</div>
</section>
<section id="genome-wide-parallelism-underlies-contemporary-adaptation-in-urban-lizards" class="level1">
<h1>Genome-wide parallelism underlies contemporary adaptation in urban lizards</h1>
<p>This is a hot-off-the-presses study into a hot topic.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Discussion Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>What are the questions in this study?</li>
<li>What are the types of data?</li>
<li>At the most basic level, what are the questions in the data analysis?</li>
</ul>
</div>
</div>
<p>When we break it down, what can we do with data?</p>
<ul>
<li>Same vs.&nbsp;different
<ul>
<li>Similar vs.&nbsp;less similar</li>
</ul></li>
<li>Moving in the same direction</li>
<li>Are groupings real?</li>
<li>Larger vs.&nbsp;smaller
<ul>
<li>Predictive order</li>
</ul></li>
</ul>
<p>Can we identify these data comparisons in <a href="https://doi.org/10.1073/pnas.2216789120">Winchell et. al, (2023)</a>?</p>


</section>

 ]]></description>
  <category>module 2</category>
  <category>week 3</category>
  <category>data</category>
  <category>questions</category>
  <category>data mining</category>
  <guid>https://mbutler808.github.io/posts/2023-01-31-what-is-the-question/index.html</guid>
  <pubDate>Tue, 31 Jan 2023 10:00:00 GMT</pubDate>
  <media:content url="http://www.posterwire.com/wp-content/images/wizard_of_oz.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Data IO</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-31-reading-data/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="acknowledgements" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h3>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="http://rafalab.dfci.harvard.edu/dsbook/importing-data.html" class="uri">http://rafalab.dfci.harvard.edu/dsbook/importing-data.html</a></li>
<li><a href="https://www.stephaniehicks.com/jhustatcomputing2022" class="uri">https://www.stephaniehicks.com/jhustatcomputing2022</a></li>
</ul>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Be able to read and write text / csv files in R</li>
<li>Diagnose some common problems importing data and troubleshoot</li>
<li>Be able to identify different file types and encodings</li>
<li>Plan using best practices for data management and spreasheet design</li>
<li>Be able to calculate memory requirements for R objects</li>
<li>Be aware of various packages to read in other types of data</li>
</ul>
</div>
</div>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<!-- Sweave2knitr() -->
<p>So far, we have been working within R, either typing data in directly or using R‚Äôs functions to generate data. In order to analyze your own data, you have to load data from an external file into R. Similarly, to save your work, you‚Äôll probably want to write files from R to your hard drive. Both of these require interacting with your computer‚Äôs operating system. In this chapter, we‚Äôre just going to do it. We‚Äôll talk more about what‚Äôs going on in a later section on the R Environment.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
There are many different ways to access data in R
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Built-in datasets - useful for practice</li>
<li>Text files, importing from .csv is especially easy</li>
<li>Files in other formats, e.g., .xls</li>
<li>readLines from a connection including files</li>
<li>Data not on your local computer, e.g., piped via a url</li>
<li>Special connections, e.g., google sheets</li>
</ol>
</div>
</div>
</section>
<section id="built-in-datasets" class="level1">
<h1>Built-in datasets</h1>
<p>R has many built-in datasets that come distributed with R. They are very useful for demonstrating R ªs many functions for statistics, plotting, and other uses.</p>
<p>To see a list of them, you can type <code>data()</code> at the command line. To see the contents, type the name of the dataset. To see the help page type a ? in front of the name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">data</span>()</span>
<span id="cb1-2">cars</span>
<span id="cb1-3">?cars</span></code></pre></div>
</div>
<p>You can use built-in data in R by referring to the names of the objects.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">head</span>(cars)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  speed dist
1     4    2
2     4   10
3     7    4
4     7   22
5     8   16
6     9   10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">plot</span>(cars)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/posts/2023-01-31-reading-data/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="the-biggest-issue-for-fairly-new-users" class="level1">
<h1>The biggest issue for fairly new users</h1>
<p>In order for R to read in data, it needs to know (1) where it the data stream, and (2) what in the datastream it is looking for. In the case of built-in datasets, both problems are solved as it is already imported into R.</p>
<p>The biggest issue most new-ish users experience when the path or filename is incorrect. For example, I don ªt have a file called ‚Äúdat.csv‚Äù here, so this is a common error:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="op" style="color: #5E5E5E;">&gt;</span> read.csv<span class="kw" style="color: #003B4F;">(</span><span class="st" style="color: #20794D;">"dat.csv"</span><span class="kw" style="color: #003B4F;">)</span></span>
<span id="cb5-2"><span class="ex" style="color: null;">Error</span> in file<span class="er" style="color: #AD0000;">(</span><span class="fu" style="color: #4758AB;">file</span>, <span class="st" style="color: #20794D;">"rt"</span><span class="kw" style="color: #003B4F;">)</span> <span class="bu" style="color: null;">:</span> cannot open the connection</span>
<span id="cb5-3"><span class="ex" style="color: null;">In</span> addition: Warning message:</span>
<span id="cb5-4"><span class="ex" style="color: null;">In</span> file<span class="er" style="color: #AD0000;">(</span><span class="fu" style="color: #4758AB;">file</span>, <span class="st" style="color: #20794D;">"rt"</span><span class="kw" style="color: #003B4F;">)</span> <span class="bu" style="color: null;">:</span> cannot open file <span class="st" style="color: #20794D;">'dat.csv'</span>: No such file or directory</span></code></pre></div>
</div>
<p>The <code>cannot open the conection</code> is a pipe or path error. It cannot open a pipe or a connection to the file. <code>No such file or directory</code> is just that. R doesn ªt know where the file is. Is there a typo? Is it the correct path?</p>
<p>Once we are in the correct working directory and fixed all typos, most of the time we are good, but we may have some surprises in the file format which we ªll go into below.</p>
<p>The issue is basically that R is parsing the information stream as it reads the file and filtering what counts as data, and what is not data (also called ‚Äúdelimeters‚Äù or the things that separate your data). Once you understnad how to specify delimeters, you are in great shape!</p>
</section>
<section id="reading-in-text-files" class="level1">
<h1>Reading in Text Files</h1>
<p>The most convenient way to read data into R is using the <code>read.csv()</code> function. This requires that your data is saved in <code>.csv</code> format, which is possible from Microsoft Excel (save as‚Ä¶ csv) or any spreadsheet format. It is a text format with data separated by commas. (Open it in a plain text editor and take a look).</p>
<p>It is very nice because it is unambiguous, not easily corruptible, and non-proprietary. Thus it is readable by nearly every program that reads in data.</p>
<section id="get-the-files-onto-your-computer" class="level2">
<h2 class="anchored" data-anchor-id="get-the-files-onto-your-computer">Get the files onto your computer</h2>
<p>First, get the data files from the <code>rcassdatadata</code> GitHub repo. Navigate to within the rclassdata folder on your computer and execute:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="fu" style="color: #4758AB;">git</span> pull origin main</span></code></pre></div>
</div>
<p>You should probably make a R working directory for your class work. Maybe call it <code>Rclass</code>? Then move or drag <code>rclassdata</code> within it.</p>
<p>Next, from within R, check which working directory you are in. You should be in your Rclass folder. If you are not, use <code>setwd()</code> to get there.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">getwd</span>()</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;">setwd</span>(<span class="st" style="color: #20794D;">"~/Rclass"</span>)  <span class="co" style="color: #5E5E5E;"># my folder is at the top level of my user directory</span></span></code></pre></div>
</div>
<p>Copy the <code>2023-01-31-DataIO</code> folder into Rclass to work for today.</p>
</section>
<section id="read.csv" class="level2">
<h2 class="anchored" data-anchor-id="read.csv">read.csv</h2>
<p>Getting the file in is easy. If it is in csv format, you just use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;">read.csv</span>(<span class="st" style="color: #20794D;">"anolisSSD.csv"</span>)  <span class="co" style="color: #5E5E5E;"># look for the file in the Data directory</span></span></code></pre></div>
</div>
<p>This is an <em>Anolis</em> lizard sexual size dimorphism dataset. It has values of dimorphism by species for different ecomorphs, or microhabitat specialists.</p>
<p>To save the data, give it a name and save it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">anolis <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.csv</span>(<span class="st" style="color: #20794D;">"anolisSSD.csv"</span>)</span></code></pre></div>
</div>
<p>It is a good practice to <em>always</em> check that the data were read in properly. If it is a large file, you‚Äôll want to at least check the beginning and end were read in properly:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;">head</span>(anolis)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  species   logSSD    ecomorph
1      oc -0.00512        twig
2      eq  0.08454 crown-giant
3      co  0.24703 trunk-crown
4     aln  0.24837 trunk-crown
5      ol  0.09844  grass-bush
6      in  0.06137        twig</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;">tail</span>(anolis)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   species  logSSD     ecomorph
18      cr 0.39796 trunk-ground
19      st 0.15737  trunk-crown
20      cy 0.26024 trunk-ground
21     alu 0.08216   grass-bush
22      lo 0.13108        trunk
23      an 0.13547         twig</code></pre>
</div>
</div>
<p>Voila! Now you can plot, take the mean, etc. Which prints out the first six and last six lines of the file.</p>
<p>Now try reading in <code>anolisSSDsemicolon.csv</code> what did you get? Try reading it in with <code>read.table()</code> - check out the help page.</p>
<p>R can read in many other formats as well, including database formats, excel native format (although it is easier in practice to save as .csv), fixed width formats, and scanning lines. For more information see the R manual ‚ÄúR Data Import/Export‚Äù which you can get from <code>help.start()</code> or at <a href="http://www.r-project.org" class="uri">http://www.r-project.org</a>.</p>
</section>
<section id="input-files-generated-by-data-loggers" class="level2">
<h2 class="anchored" data-anchor-id="input-files-generated-by-data-loggers">Input files generated by data loggers</h2>
<p>Files that are generated by computer, even if they are not separated by commas (.csv) are not too bad to deal with. Take, for example, the file format generated from our hand-held Ocean Optics specroradiometer. It is very regular in structure, and we have tons of data files, so it is well worth the programming effort to code a script for automatic file input.</p>
<p>First, you can open the file below in a text editor. If you‚Äôd rather open it in R, you can use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;">readLines</span>(<span class="st" style="color: #20794D;">"20070725_01forirr.txt"</span>)</span></code></pre></div>
</div>
<p>Notice that there is a very large header, in fact the first 17 lines. Notice also that the last line will cause a problem. Also, the delimiter in this file is tab (backslash t).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">temp <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">readLines</span>(<span class="st" style="color: #20794D;">"20070725_01forirr.txt"</span>)</span>
<span id="cb15-2"><span class="fu" style="color: #4758AB;">head</span>(temp)</span>
<span id="cb15-3"><span class="fu" style="color: #4758AB;">tail</span>(temp)</span></code></pre></div>
</div>
<p>We can solve these issues using the <code>skip</code> and the <code>comment.char</code> arguments of <code>read.table</code> to ignore both types of lines, reading in only the ‚Äúgood stuff‚Äù. Also, the default delimiter in this function is the tab:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">dat <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.table</span>(<span class="at" style="color: #657422;">file=</span><span class="st" style="color: #20794D;">"20070725_01forirr.txt"</span>, <span class="at" style="color: #657422;">skip=</span><span class="dv" style="color: #AD0000;">17</span>, <span class="at" style="color: #657422;">comment.char=</span><span class="st" style="color: #20794D;">"&gt;"</span>)</span>
<span id="cb16-2"><span class="fu" style="color: #4758AB;">names</span>(dat) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"lambda"</span>, <span class="st" style="color: #20794D;">"intensity"</span>)</span>
<span id="cb16-3"><span class="fu" style="color: #4758AB;">head</span>(dat)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  lambda intensity
1 177.33         0
2 177.55         0
3 177.77         0
4 177.99         0
5 178.21         0
6 178.43         0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;">tail</span>(dat)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     lambda intensity
3643 888.21   0.29491
3644 888.38   0.31306
3645 888.54   0.28153
3646 888.71   0.28245
3647 888.87   0.18988
3648 889.04   0.18988</code></pre>
</div>
</div>
<p>The file produces (useless) rows of data outside of the range of accuracy of the spectraradiometer. We can get rid of these by subsetting the data, selecting only the range 300-750nm:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">dat <span class="ot" style="color: #003B4F;">&lt;-</span> dat[dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">300</span>, ]  <span class="co" style="color: #5E5E5E;"># cut off rows below 300nm</span></span>
<span id="cb20-2">dat <span class="ot" style="color: #003B4F;">&lt;-</span> dat[dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">750</span>, ]  <span class="co" style="color: #5E5E5E;">#cut off rows above 750nm</span></span></code></pre></div>
</div>
<p>Or do both at once:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">dat <span class="ot" style="color: #003B4F;">&lt;-</span> dat[dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">300</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">750</span>,]</span></code></pre></div>
</div>
<p>If we are going to be doing this subsetting over and over, we might want to save this as an index vector which tells us the position of the rows of data we want to keep in the dataframe (don‚Äôt worry, we‚Äôll cover this again in the workhorse functions chapter).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">oo <span class="ot" style="color: #003B4F;">&lt;-</span> dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">300</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> dat<span class="sc" style="color: #5E5E5E;">$</span>lambda <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">750</span></span>
<span id="cb22-2">dat <span class="ot" style="color: #003B4F;">&lt;-</span> dat[oo, ]   <span class="co" style="color: #5E5E5E;"># same as longer version above</span></span></code></pre></div>
</div>
<p>We can now save the cleaned up version of the irradiance data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;">write.csv</span>(dat, <span class="st" style="color: #20794D;">"20070725_01forirr.csv"</span>)</span></code></pre></div>
</div>
</section>
</section>
<section id="read-from-url" class="level1">
<h1>Read from URL</h1>
<p>A URL is just another datastream or pipe. If it is a .csv file on the internet, R supports reading it in directly:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">anolis2 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.csv</span>(<span class="st" style="color: #20794D;">"https://raw.githubusercontent.com/mbutler808/rclassdata/main/2023-01-31-DataIO/anolisSSD.csv"</span>)</span>
<span id="cb24-2"><span class="fu" style="color: #4758AB;">head</span>(anolis2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  species   logSSD    ecomorph
1      oc -0.00512        twig
2      eq  0.08454 crown-giant
3      co  0.24703 trunk-crown
4     aln  0.24837 trunk-crown
5      ol  0.09844  grass-bush
6      in  0.06137        twig</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="fu" style="color: #4758AB;">cbind</span>(anolis, anolis2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   species   logSSD     ecomorph species   logSSD     ecomorph
1       oc -0.00512         twig      oc -0.00512         twig
2       eq  0.08454  crown-giant      eq  0.08454  crown-giant
3       co  0.24703  trunk-crown      co  0.24703  trunk-crown
4      aln  0.24837  trunk-crown     aln  0.24837  trunk-crown
5       ol  0.09844   grass-bush      ol  0.09844   grass-bush
6       in  0.06137         twig      in  0.06137         twig
7       cu  0.09501  crown-giant      cu  0.09501  crown-giant
8       ri  0.08947  crown-giant      ri  0.08947  crown-giant
9       sa  0.28893 trunk-ground      sa  0.28893 trunk-ground
10      op  0.15963   grass-bush      op  0.15963   grass-bush
11      va  0.14766         twig      va  0.14766         twig
12      li  0.38873 trunk-ground      li  0.38873 trunk-ground
13      ga  0.28768  crown-giant      ga  0.28768  crown-giant
14      gr  0.39786  trunk-crown      gr  0.39786  trunk-crown
15      br  0.17106        trunk      br  0.17106        trunk
16      di  0.13801        trunk      di  0.13801        trunk
17      kr  0.23478   grass-bush      kr  0.23478   grass-bush
18      cr  0.39796 trunk-ground      cr  0.39796 trunk-ground
19      st  0.15737  trunk-crown      st  0.15737  trunk-crown
20      cy  0.26024 trunk-ground      cy  0.26024 trunk-ground
21     alu  0.08216   grass-bush     alu  0.08216   grass-bush
22      lo  0.13108        trunk      lo  0.13108        trunk
23      an  0.13547         twig      an  0.13547         twig</code></pre>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Use the correct file format
</div>
</div>
<div class="callout-body-container callout-body">
<p>Make sure that your URL leads to a raw <code>.csv</code> file, and not the <code>.html</code> rendering of your csv file!</p>
</div>
</div>
</section>
<section id="what-to-do-when-your-spreadsheet-is-malformed" class="level1">
<h1>What to do when your spreadsheet is malformed</h1>
<p>You will inevitably run into malformed spreadsheets. If there are unexpected characters used as delimiters, irregular delimiters, or uneven numbers of elements, these will all cause problems reading in data smoothly into any software.</p>
<p>Most of the time, these issues are inadvertent. For example, if you cut and paste off the web, extra characters can easily be introduced. Try reading in <code>species_list_IUCN.csv</code>. It is a large spreadsheet of every species of subfamily Asteriorphinae frog in the world (over 330). Does it look OK?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1">temp <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.csv</span>(<span class="st" style="color: #20794D;">"species_list_IUCN.csv"</span>)</span>
<span id="cb28-2"><span class="fu" style="color: #4758AB;">head</span>(temp)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                   SPECIES.OF.ASTEROPHRYINAE.REPRESENTED.IN.IUCN.SHAPEFILE.LIST.
1   Aphantophryne minuta                                                                                                        
2   Aphantophryne nana                                                                                                          
3   Aphantophryne pansa                                                                                                         
4   Aphantophryne parkeri                                                                                                       
5   Aphantophryne sabini                                                                                                        
6   Asterophrys eurydactyla                                                                                                     
   X X.1 X.2 X.3
1 NA  NA  NA  NA
2 NA  NA  NA  NA
3 NA  NA  NA  NA
4 NA  NA  NA  NA
5 NA  NA  NA  NA
6 NA  NA  NA  NA</code></pre>
</div>
</div>
<p>It ªs hard to tell from this output what the problem is. Try <code>readLines</code>, which will show you the entire line of data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1">tempL <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">readLines</span>(<span class="st" style="color: #20794D;">"species_list_IUCN.csv"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in readLines("species_list_IUCN.csv"): incomplete final line found on
'species_list_IUCN.csv'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><span class="fu" style="color: #4758AB;">head</span>(tempL)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SPECIES OF ASTEROPHRYINAE REPRESENTED IN IUCN SHAPEFILE LIST:,,,,"                                                                 
[2] "Aphantophryne minuta                                                                                                        ,,,,"  
[3] "Aphantophryne nana                                                                                                          ,,,,"  
[4] "  Aphantophryne pansa                                                                                                         ,,,,"
[5] "  Aphantophryne parkeri                                                                                                       ,,,,"
[6] "  Aphantophryne sabini                                                                                                        ,,,,"</code></pre>
</div>
</div>
<p>Now you can clearly see that it is extra whitespace. Extra blank columns, and a huge long line of white space after each species name. Starting from <em>Aphantophryne pansa</em>, there are two extra spaces in front of each species name.</p>
<p>The easiest thing to do here is to open up the spreadsheet in your spreadsheet program (or plain text editor) and read it back in. Delete the extra columns, and do search and replace on the two leading spaces and trailing multiple spaces. Also change that very long name to something more reasonable like ‚Äúgensp‚Äù. (This is an example of using variable names as annotations or comments - don ªt do it.)</p>
<p>Alternatively, you can solve these problems within R. We will learn these object and string manipulation skills later, but here is one way to solve the problems once you have diagnosed them.</p>
<section id="read-in-and-select-only-the-first-columns" class="level4">
<h4 class="anchored" data-anchor-id="read-in-and-select-only-the-first-columns">Read in and select only the first columns</h4>
<p>The rest of the columns are blank, so we really only need the first one. Also lets give it a shorter name.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1">dat <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read.csv</span>(<span class="st" style="color: #20794D;">"species_list_IUCN.csv"</span>)</span>
<span id="cb34-2">dat <span class="ot" style="color: #003B4F;">&lt;-</span> dat[<span class="dv" style="color: #AD0000;">1</span>]   <span class="co" style="color: #5E5E5E;"># select only the first column and resave dat</span></span>
<span id="cb34-3"><span class="fu" style="color: #4758AB;">names</span>(dat) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="st" style="color: #20794D;">"gensp"</span>  <span class="co" style="color: #5E5E5E;"># give the column a shorter name</span></span></code></pre></div>
</div>
</section>
<section id="use-function-trimws" class="level4">
<h4 class="anchored" data-anchor-id="use-function-trimws">Use function <code>trimws</code></h4>
<p>R has a handy function <code>trimws</code> that trims white space</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1">gensp <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">trimws</span>(dat<span class="sc" style="color: #5E5E5E;">$</span>gensp)</span>
<span id="cb35-2"><span class="fu" style="color: #4758AB;">head</span>(gensp)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Aphantophryne minuta"    "Aphantophryne nana"     
[3] "Aphantophryne pansa"     "Aphantophryne parkeri"  
[5] "Aphantophryne sabini"    "Asterophrys eurydactyla"</code></pre>
</div>
</div>
<p>How you deal with cleaning the data will depend on what the issue is. But the first step is always diagnosing the problem. We ªll learn many more strategies as we go.</p>
</section>
</section>
<section id="entering-data-with-spreadsheets" class="level1">
<h1>Entering data with spreadsheets</h1>
<p>Data management is a major issue for any scientist, so it is worthwhile to develop some best practices. Entering data into spreadsheets is a fundamental step in any study using field data or any type of information that is gathered by humans. Some of the issues to consider are:</p>
<ol type="1">
<li>How can we best minimize human error?</li>
<li>What dataset structures are best for analyzing the data using software?</li>
<li>Compatability with other datasets in the lab, or commonly used in the field.</li>
</ol>
<p>In the best case, we want to make our data available to the world, which means that it will have a permanence. We may also want to build on this data year after year, so it is worth thinking about a good design.</p>
<section id="human-error" class="level2">
<h2 class="anchored" data-anchor-id="human-error">Human Error</h2>
<p>It is very easy to make a typo, and humans are really bad at catching our own typos in real time. Right? They creep in despite our best efforts. This is why even though it is possible to measure specimens and enter the numbers directly into the computer, it ªs not something I would do.</p>
<p>I always write my measurements down into a notebook or a datasheet using pencil and paper. This has saved me many errors in three ways (1) sometimes my brain is still processing what I just wrote and I will catch a typo. (2) I write my data in rows for specimens and columns for the different measurements. As the dataset builds, it is easy to notice errors if some number is really off. (3) If you have any doubts, you can quickly look over your page and re-measure anything suspicous. If you have the person-power, you can also have one person taking the measurements and calling them out, and another writing them down and repeating them back. It is a very effective way to check on the spot.</p>
<p>I had my first post-college job at an insurance rating board. This is a business that deals with reams and reams of data. We did work a lot with Fortran code and spreadsheets, but surprisingly, some of it does actually have to get manually checked. The protocol was simple, a paper printout of the old version was put next to the new version and a person went along with a ruler, literally putting a check mark after verifying the number. A second check was done as well, and then I finally understood the meaning of ‚Äúdouble checking‚Äù üòù. When I got to grad school, it was eye-opening to find that checking any person ªs data entry was a rare practice üò≤. Please, whenever possible check your data entry. So here are some tips:</p>
<ol type="1">
<li>Record data in a notebook (paper and pencil). It serves as a permanent record.</li>
<li>Write it down in a data table format in an order that minimizes error. For example, if it is convenient to take five measurements in a particular order, then organize your table that way and always take the measurements in the same order.</li>
<li>Organize your spreadsheet to mirror the hand-written data. This will minimize data entry errors.</li>
<li>Have another person check your data entry against the notebook.</li>
</ol>
</section>
<section id="organizing-your-spreadhseet" class="level2">
<h2 class="anchored" data-anchor-id="organizing-your-spreadhseet">Organizing your spreadhseet</h2>
<p>When it comes time to enter your data in a spreadsheet, there are many things you can do to improve organization. Below is a summary of the recommendations made in paper by Karl Broman and Kara Woo <span class="citation" data-cites="Broman:2018">(Broman and Woo 2018)</span>.</p>
<ul>
<li><strong>Be Consistent</strong> - Have a plan before you start entering data. Be consistent and stick to it.</li>
<li><strong>Choose Good Names for Things</strong> - You want the names you pick for objects, files, and directories to be memorable, easy to spell, descriptive, but concise. This is actually a hard balance to achieve and it does require time and thought.
<ul>
<li>One important rule to follow is do not use spaces, use underscores _ or dashes instead -.</li>
<li>Also, avoid symbols; stick to letters and numbers.</li>
</ul></li>
<li><strong>Write Dates as YYYY-MM-DD</strong> - To avoid confusion, we strongly recommend using this global ISO 8601 standard.</li>
<li><strong>No Empty Cells</strong> - Fill in all cells and use some common code for missing data.</li>
<li><strong>Put Just One Thing in a Cell</strong> - It is better to add columns to store the extra information rather than having more than one piece of information in one cell.</li>
<li><strong>Make It a Rectangle</strong> - The spreadsheet should be a rectangle.</li>
<li><strong>Create a Data Dictionary</strong> - If you need to explain things, such as what the columns are or what the labels used for categorical variables are, do this in a separate file. This is an excellent use for a README.md file</li>
<li><strong>No Calculations in the Raw Data Files</strong> - Excel permits you to perform calculations. Do not make this part of your spreadsheet. Code for calculations should be in a script.</li>
<li><strong>Do Not Use Font Color or Highlighting as Data</strong> - Most import functions are not able to import this information. Encode this information as a variable (a ‚Äúcomment‚Äù column) instead.</li>
<li><strong>Make Backups</strong> - Make regular backups of your data.</li>
<li><strong>Use Data Validation to Avoid Errors</strong> - Leverage the tools in your spreadsheet software so that the process is as error-free and repetitive-stress-injury-free as possible. Think of checks you can do for ‚Äúreality checks‚Äù.</li>
<li><strong>Save the Data as Text Files</strong> - Save files for sharing in comma or tab delimited format. An unambiguous text format is the best for archiving your data.</li>
</ul>
</section>
</section>
<section id="a-few-words-about-encodings" class="level1">
<h1>A few words about Encodings</h1>
<section id="text-versus-binary-files" class="level2">
<h2 class="anchored" data-anchor-id="text-versus-binary-files">Text versus binary files</h2>
<p>For data science purposes, files can generally be classified into two categories: text files (also known as <strong>ASCII</strong> files) and <strong>binary</strong> files. You have already worked with text files. All your R scripts are text files and so are the Quarto files used to create this website. The .csv tables you have read are also text files. One big advantage of these files is that we can easily ‚Äúlook‚Äù at them using a plain text editor, without having to purchase any kind of special software.</p>
<p>Any text editor can be used to examine a text file, including freely available editors such as <strong>R</strong>, <strong>RStudio</strong>, <strong>Atom</strong>, <strong>Notepad</strong>, <strong>TextEdit</strong>, <strong>vi</strong>, <strong>emacs</strong>, <strong>nano</strong>, and <strong>pico</strong>. However, if you try to open, say, an Excel xls file, jpg or png file, you will not be able to see anything immediately useful. These are binary files. Excel files are actually compressed folders with several text files inside. But the main distinction here is that text files can be easily examined.</p>
<p>Although R includes tools for reading widely used binary files, such as xls files, <em>in general you will want to find data sets stored in text files</em>. If necessary, use the proprietary software to export the data into text files and go from there.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>The problem with using propietary formats for data management is that htey are poor formats for achival purposes. These formats may change or they don ªt copy well, so that eventually you can no longer open them.</p>
</div>
</div>
<p>Similarly, when sharing data you want to make it available as text files as long as storage is not an issue (binary files are much more efficient at saving space on your disk). In general, plain-text formats make it easier to share data since commercial software is not required for working with the data, and they are more reliable.</p>
<p>Technically, html and xml files are text files too, but they have complicated tags around the information. In the Data Wrangling part of the book we learn to extract data from more complex text files such as html files.</p>
</section>
<section id="unicode-versus-ascii" class="level2">
<h2 class="anchored" data-anchor-id="unicode-versus-ascii">Unicode versus ASCII</h2>
<p>A pitfall in data science is assuming a file is an ASCII text file when, in fact, it is something else that can look a lot like an ASCII text file, for example, a Unicode text file.</p>
<p>To understand the difference between these, remember that everything on a computer needs to eventually be converted to 0s and 1s (binary format). ASCII is an encoding that maps bits to characters that are easier for humans to read.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Binary data can take on only two values - 0 or 1
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>a <strong>bit</strong> is the smallest unit, a single binary character (0 or 1).</li>
<li>a <strong>byte</strong> is eight bits.</li>
<li>a <strong>megabyte</strong> or MB is one million bytes.</li>
<li>a <strong>gigabyte</strong> or GB is one billion bytes.</li>
<li>You can roughly calculate the size of your data by the numbers of bytes per each observation.</li>
</ul>
</div>
</div>
<p>ASCII uses 7 bits ‚Äì seven variables that can be either 0 or 1 ‚Äì which results in 2<sup>7</sup> = 128 unique items, enough to encode all the characters on an English language keyboard (all characters, numbers, and symbols, Figure&nbsp;1, Figure&nbsp;2). However, we need to expand the possibilities if we want to include support for other languages or additional characters.</p>
<div id="fig-ascii" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://mbutler808.github.io/posts/2023-01-31-reading-data/ascii1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: Binary encodings in ACII, with some of the most used escape sequences like <code>\t</code> for tab and <code>\n</code> for new line.</figcaption><p></p>
</figure>
</div>
<div id="fig-ascii2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://mbutler808.github.io/posts/2023-01-31-reading-data/ascii2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Some examples of ASCII encodings for A-E and a-e.</figcaption><p></p>
</figure>
</div>
<p>For this reason, a new encoding, using more than 7 bits, was defined: Unicode. When using Unicode, one can chose between 8, 16, and 32 bits abbreviated UTF-8, UTF-16, and UTF-32 respectively. RStudio actually defaults to UTF-8 encoding.</p>
<p>Although we do not go into the details of how to deal with the different encodings here, it is important that you know these different encodings exist so that you can better diagnose a problem if you encounter it. One way problems manifest themselves is when you see ‚Äúweird looking‚Äù characters you were not expecting.</p>
<p>Many plain text editors (Atom, Sublime, TextWrangler, Notepad++) will detect encodings and tell you what they are and may also convert between them. Also from the command line the <code>file</code> command will reveal the encoding (should also work on Windows if you have <code>git</code> installed:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb37-1"><span class="fu" style="color: #4758AB;">file</span> filename</span></code></pre></div>
</div>
<p>This StackOverflow discussion is an example: <a href="https://stackoverflow.com/questions/18789330/r-on-windows-character-encoding-hell" class="uri">https://stackoverflow.com/questions/18789330/r-on-windows-character-encoding-hell</a>.</p>
</section>
<section id="line-endings" class="level2">
<h2 class="anchored" data-anchor-id="line-endings">Line endings</h2>
<p>One last potential headache is the character used for line endings. The line ending is the invisible (to us) character that is added to your file when you press the <code>return</code> key.</p>
<p>It is all one stream of informatin to the computer, but the computer will interpret the information as a new line when it detects one of these characters. When software is provided a file with an unexpected line ending, it is not able to properly detect the lines of information (maybe it sees only one huge line). See?</p>
<p>There are two types of line endings in use today:</p>
<ul>
<li><p><strong>On UNIX and MacOS</strong>, text file line-endings are terminated with a newline character (ASCII 0x0a, represented by the <code>\n</code> escape sequence in most languages), also referred to as a linefeed (LF).</p></li>
<li><p><strong>On Windows</strong>, line-endings are terminated with a combination of a carriage return (ASCII 0x0d or <code>\r</code>) and a newline(<code>\n</code>), also referred to as CR/LF.</p></li>
</ul>
<p>If your computer complains about line endings, the easiest thing to do is to open it in one of the good plain text editors and save it with the line endings it is expecting (usually as LF instead of CR/LF).</p>
</section>
</section>
<section id="calculating-memory-requirements-for-r-objects" class="level1">
<h1>Calculating Memory Requirements for R Objects</h1>
<p>Because <strong>R stores all of its objects in physical memory</strong>, it is important to be aware of how much memory is being used up by all of the data objects residing in your workspace.</p>
<p>It is easy to make a back of the envelope calculation of how much memory will be required by a new dataset. For example, suppose I have a data frame with 1,500,000 rows and 120 columns, all of which are numeric data. Roughly, how much memory is required to store this data frame?</p>
<p>Well, on most modern computers <a href="http://en.wikipedia.org/wiki/Double-precision_floating-point_format">double precision floating point numbers</a> are stored using 64 bits of memory, or 8 bytes. Given that information, you can do the following calculation</p>
<p>1,500,000 √ó 120 √ó 8 bytes/numeric = 1,440,000,000 bytes</p>
<p>= 1,440,000,000 bytes / 2<sup>20</sup> bytes/MB</p>
<p>= 1,373 MB</p>
<p>= 1.37 GB</p>
<p>So the dataset would require about 1.37 GB of RAM. Most computers these days have at least that much RAM. However, you need to be aware of</p>
<ul>
<li>what other programs might be running on your computer, using up RAM</li>
<li>what other R objects might already be taking up RAM in your workspace</li>
</ul>
<p>Reading in a large dataset for which you do not have enough RAM is one easy way to freeze up your computer (or at least your R session). When that happens you to kill the R process, in the best case scenario, or reboot your computer, in the worst case. So before opening up potentially huge datasets, make sure to do a rough calculation of memory requirements needed. You‚Äôll thank me later.</p>
<p><em>Also, it ªs aways good to build a script as you go and save frequently.</em></p>
</section>
<section id="other-data-types" class="level1">
<h1>Other data types</h1>
<p>Now, there are of course, many R packages that have been developed to read in all kinds of other datasets, and you may need to resort to one of these packages if you are working in a specific area.</p>
<p>For example, check out</p>
<ul>
<li><a href="https://github.com/r-dbi/DBI"><code>DBI</code></a> for relational databases</li>
<li><a href="https://haven.tidyverse.org"><code>haven</code></a> for SPSS, Stata, and SAS data</li>
<li><a href="https://github.com/r-lib/httr"><code>httr</code></a> for web APIs</li>
<li><a href="https://readxl.tidyverse.org"><code>readxl</code></a> for <code>.xls</code> and <code>.xlsx</code> sheets</li>
<li><a href="https://googlesheets4.tidyverse.org"><code>googlesheets4</code></a> for Google Sheets</li>
<li><a href="https://googledrive.tidyverse.org"><code>googledrive</code></a> for Google Drive files</li>
<li><a href="https://github.com/tidyverse/rvest"><code>rvest</code></a> for web scraping</li>
<li><a href="https://github.com/jeroen/jsonlite#jsonlite"><code>jsonlite</code></a> for JSON</li>
<li><a href="https://github.com/r-lib/xml2"><code>xml2</code></a> for XML.</li>
</ul>
</section>
<section id="ascii-art" class="level1">
<h1>ASCII art</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://nl.wikipedia.org/wiki/Gebruiker:Wilinckx"><img src="https://mbutler808.github.io/posts/2023-01-31-reading-data/https:/upload.wikimedia.org/wikipedia/commons/4/45/BB-ASCII-art-screenshot-zebra.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Zebra in ASCII by Wilinckx, Wikimedia commons</figcaption><p></p>
</figure>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Broman:2018" class="csl-entry">
Broman, Karl W., and Kara H. Woo. 2018. <span>‚ÄúData Organization in Spreadsheets.‚Äù</span> <em>The American Statistician</em> 72 (1): 2‚Äì10. <a href="https://doi.org/10.1080/00031305.2017.1375989">https://doi.org/10.1080/00031305.2017.1375989</a>.
</div>
</div></section></div> ]]></description>
  <category>module 2</category>
  <category>week 3</category>
  <category>data</category>
  <category>input</category>
  <category>output</category>
  <category>formats</category>
  <guid>https://mbutler808.github.io/posts/2023-01-31-reading-data/index.html</guid>
  <pubDate>Tue, 31 Jan 2023 10:00:00 GMT</pubDate>
  <media:content url="https://mbutler808.github.io/posts/2023-01-31-reading-data/ascii1.png" medium="image" type="image/png" height="52" width="144"/>
</item>
<item>
  <title>Reference management</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-02-01-reference-management/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="pre-lecture-materials" class="level1">
<h1>Pre-lecture materials</h1>
<section id="read-ahead" class="level3">
<h3 class="anchored" data-anchor-id="read-ahead">Read ahead</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li>Authoring in <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">R Markdown from RStudio</a></li>
<li>Citations from <a href="https://monashdatafluency.github.io/r-rep-res/citations.html">Reproducible Research in R</a> from the <a href="https://monashdatafluency.github.io">Monash Data Fluency</a> initiative</li>
<li>Bibliography from <a href="https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html">R Markdown Cookbook</a></li>
</ol>
</div>
</div>
</section>
<section id="acknowledgements" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h3>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="https://www.stephaniehicks.com/jhustatcomputing2022/" class="uri">https://www.stephaniehicks.com/jhustatcomputing2022/</a></li>
<li><a href="https://andreashandel.github.io/MADAcourse" class="uri">https://andreashandel.github.io/MADAcourse</a></li>
<li><a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html" class="uri">https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html</a></li>
<li><a href="https://monashdatafluency.github.io/r-rep-res/citations.html" class="uri">https://monashdatafluency.github.io/r-rep-res/citations.html</a></li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know what types of bibliography file formats can be used in a R Markdown file</li>
<li>Learn how to add citations to a Quarto file</li>
<li>Know how to change the citation style (e.g.&nbsp;APA, Chicago, Evolution, etc)</li>
</ul>
</div>
</div>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Your citation list is a critical aspect of research, as all research is built on the contribution in prior work. One of the most tedious tasks of science is hand-editing bibiolographies ‚Äî and one of the great benefits of the LaTeX environment is the automated <em>formatting references for bibliographies</em>. üéä</p>
<p>It ªs worth taking a little time to learn how to use these tools, as citations are critical for every paper, project report, or academic website, and is often even required in paper assignments. Since R markdown and Quarto work nicely with LaTeX (and BibTeX, the associated reference management software), we get a bonus in having access to the power of BibTeX without writing any LaTeX, maing it easy to add citations to our Quarto markdown projects.</p>
<p>Quarto documentation currently doesn ªt include citations, but seems to support all the features presnt in R markdown. We will be using <code>.bib</code> format references in this tutorial, but R markdown (and presumably Quarto) supports other citation formats as well (<a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">for more info see</a>).</p>
<section id="the-parts" class="level2">
<h2 class="anchored" data-anchor-id="the-parts">The Parts</h2>
<p>There are three basic parts:</p>
<ol type="1">
<li>The citation data which is stored in the <code>.bib</code> file Section&nbsp;4, and</li>
<li>In-text citations included by the author into the <code>.qmd</code> document Section&nbsp;7, and</li>
<li>Linking the  ª.bib ª file in the <code>YAML</code> header Section&nbsp;6.</li>
</ol>
<p>From this, both the <em>in-text citations</em> as well as the <em>citation list</em> at the end of the document will be rendered.</p>
<p>There are additional customization options. You can change the <em>style</em> of the bibliography using style and class files Section&nbsp;8. This is at the level of the entire document, it is easy to switch. Within the document, there are also many options for in-text citation styles Section&nbsp;9. You can also customize the style file by editing the LaTeX.</p>
<p><em>Reference managers</em> are helper software (independent of BibTeX) that are wonderful tools to help you collect and organize your citation data Section&nbsp;5.</p>
</section>
</section>
<section id="sec-bib" class="level1">
<h1>The Bibliography is in <code>.bib</code> files</h1>
<p>The citation data are stored in a <code>.bib</code> file which is a text file. Most people don ªt type these entries themselves (unless it ªs for a new publication!) but rather download these through journal databases such as <em>Web of Science</em>, <em>PubMed</em>, directly from jornal websites, etc.</p>
<p>R provides nice function <code>citation()</code> that generating the citation blob for R packages. Let‚Äôs try generating citation text for the R environment by using the following command</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">citation</span>(<span class="st" style="color: #20794D;">"base"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
To cite R in publications use:

  R Core Team (2022). R: A language and environment for statistical
  computing. R Foundation for Statistical Computing, Vienna, Austria.
  URL https://www.R-project.org/.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2022},
    url = {https://www.R-project.org/},
  }

We have invested a lot of time and effort in creating R, please cite it
when using it for data analysis. See also 'citation("pkgname")' for
citing R packages.</code></pre>
</div>
</div>
<p>You can replace ‚Äúbase‚Äù with any R package name, such as ‚Äúrmarkdown‚Äù or my package ‚Äúouch‚Äù. You can see that the format is simple, the information is in a key = value format, and the various parts have tags.</p>
<p>Multiple citations are stored in your <code>.bib</code> file, with each citation separated by a blank line.</p>
</section>
<section id="sec-manager" class="level1">
<h1>Reference Managers</h1>
<p>Personally, I really like [BibDesk]<a href="https://bibdesk.sourceforge.io" class="uri">https://bibdesk.sourceforge.io</a> for Mac OS to manage my citations. It is easy to use and has all the features I need. A cross-platform option that is popular now is JabRef <a href="https://github.com/JabRef/jabref" class="uri">https://github.com/JabRef/jabref</a>. <a href="https://en.wikipedia.org/wiki/JabRef">JabRef</a> is written in Java, is open source and has support for Linux, Windows, and MacOS.</p>
<section id="citation-management-software" class="level2">
<h2 class="anchored" data-anchor-id="citation-management-software">Citation management software</h2>
<p>In addition to <code>.bib</code> (BibTeX) there are a lot of file formats in use including <code>.medline</code> (MEDLINE), <code>.ris</code> (RIS), and <code>.enl</code> (EndNote), among others. You can generally download the results of your literature search in the format of your choice (some citation manager software can convert formats as well).</p>
<p>If you recall the output from <code>citation("rmarkdown")</code> above, one option is to copy and paste the BibTeX output into a text file labeled <code>.bib</code> or into citation management software, but instead we can use R ªs <code>write_bib()</code> function from the <code>knitr</code> package to create a bibliography file.</p>
<p>Let‚Äôs run the following code in order to generate a <code>my-refs.bib</code> file</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">knitr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">write_bib</span>(<span class="st" style="color: #20794D;">"rmarkdown"</span>, <span class="at" style="color: #657422;">file =</span> <span class="st" style="color: #20794D;">"my-refs.bib"</span>)</span></code></pre></div>
</div>
<p>You can output multiple citations by passing a vector of package names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">knitr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">write_bib</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"rmarkdown"</span>,<span class="st" style="color: #20794D;">"base"</span>), <span class="at" style="color: #657422;">file =</span> <span class="st" style="color: #20794D;">"my-refs.bib"</span>)</span></code></pre></div>
</div>
<p>Now we can see we have the file saved locally.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">list.files</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ButlerPapers.bib" "evolution.csl"    "index.qmd"        "index.rmarkdown" 
[5] "my-refs.bib"     </code></pre>
</div>
</div>
<p>If you open up the <code>my-refs.bib</code> file, you will see</p>
<pre><code>@Manual{R-base,
  title = {R: A Language and Environment for Statistical Computing},
  author = {{R Core Team}},
  organization = {R Foundation for Statistical Computing},
  address = {Vienna, Austria},
  year = {2022},
  url = {https://www.R-project.org/},
}

@Manual{R-rmarkdown,
  title = {rmarkdown: Dynamic Documents for R},
  author = {JJ Allaire and Yihui Xie and Jonathan McPherson and Javier Luraschi and Kevin Ushey and Aron Atkins and Hadley Wickham and Joe Cheng and Winston Chang and Richard Iannone},
  year = {2021},
  note = {R package version 2.8},
  url = {https://CRAN.R-project.org/package=rmarkdown},
}

@Book{rmarkdown2018,
  title = {R Markdown: The Definitive Guide},
  author = {Yihui Xie and J.J. Allaire and Garrett Grolemund},
  publisher = {Chapman and Hall/CRC},
  address = {Boca Raton, Florida},
  year = {2018},
  note = {ISBN 9781138359338},
  url = {https://bookdown.org/yihui/rmarkdown},
}

@Book{rmarkdown2020,
  title = {R Markdown Cookbook},
  author = {Yihui Xie and Christophe Dervieux and Emily Riederer},
  publisher = {Chapman and Hall/CRC},
  address = {Boca Raton, Florida},
  year = {2020},
  note = {ISBN 9780367563837},
  url = {https://bookdown.org/yihui/rmarkdown-cookbook},
}</code></pre>
<div class="resources">
<p><strong>Note there are three keys that we will use later on</strong>:</p>
<ul>
<li><code>R-rmarkdown</code></li>
<li><code>rmarkdown2018</code></li>
<li><code>rmarkdown2020</code></li>
</ul>
</div>
</section>
</section>
<section id="sec-linking" class="level1">
<h1>Linking <code>.bib</code> file with <code>.rmd</code> or <code>.qmd</code> files</h1>
<p>In order to use references within a R Markdown file, you will need to specify the name and a location of a bibliography file using the bibliography metadata field in a YAML metadata section. For example:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><span class="pp" style="color: #AD0000;">---</span></span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;">title</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> </span><span class="st" style="color: #20794D;">"My top ten favorite R packages"</span></span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;">output</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> html_document</span></span>
<span id="cb8-4"><span class="fu" style="color: #4758AB;">bibliography</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> my-refs.bib</span></span>
<span id="cb8-5"><span class="pp" style="color: #AD0000;">---</span></span></code></pre></div>
<p>You can include multiple reference files using the following syntax, alternatively you can concatenate two bib files into one.</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb9-1"><span class="pp" style="color: #AD0000;">---</span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;">bibliography</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> </span><span class="kw" style="color: #003B4F;">[</span><span class="st" style="color: #20794D;">"my-refs1.bib"</span><span class="kw" style="color: #003B4F;">,</span><span class="at" style="color: #657422;"> </span><span class="st" style="color: #20794D;">"my-refs2.bib"</span><span class="kw" style="color: #003B4F;">]</span></span>
<span id="cb9-3"><span class="pp" style="color: #AD0000;">---</span></span></code></pre></div>
</section>
<section id="sec-inline" class="level1">
<h1>Inline citation</h1>
<p>Now we can start using those bib keys that we have learned just before, using the following syntax</p>
<ul>
<li><code>[@key]</code> for single citation</li>
<li><code>[@key1; @key2]</code> multiple citation can be separated by semi-colon</li>
<li><code>[-@key]</code> in order to suppress author name, and just display the year</li>
<li><code>[see @key1 p 12; also this ref @key2]</code> is also a valid syntax</li>
</ul>
<p>Let‚Äôs start by citing the <code>rmarkdown</code> package using the following code and press <code>Knit</code> button:</p>
<hr>
<p>I have been using the amazing Rmarkdown package <span class="citation" data-cites="R-rmarkdown">(Allaire et al. 2022)</span>! These look like great books to read <span class="citation" data-cites="rmarkdown2018 rmarkdown2020">(Xie, Allaire, and Grolemund 2018; and Xie, Dervieux, and Riederer 2020)</span>.</p>
<hr>
<p>Pretty cool, huh??</p>
</section>
<section id="sec-style" class="level1">
<h1>Citation styles</h1>
<p>By default, Pandoc will use a Chicago author-date format for citations and references.</p>
<p>To use another style, for example, in ecology and evolution, we often use the <code>evolution.csl</code> style. You will need to specify a CSL (Citation Style Language) file in the <code>csl</code> metadata field, e.g.,</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb10-1"><span class="pp" style="color: #AD0000;">---</span></span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;">title</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> </span><span class="st" style="color: #20794D;">"My top ten favorite R packages"</span></span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;">output</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> html_document</span></span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;">bibliography</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> my-refs.bib</span></span>
<span id="cb10-5"><span class="fu" style="color: #4758AB;">csl</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> biomed-central.csl</span></span>
<span id="cb10-6"><span class="pp" style="color: #AD0000;">---</span></span></code></pre></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Resources
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <a href="https://www.zotero.org/styles">Zotero Style Repository</a> makes it easy to search for and download your desired style. Just include it in the same directory as with your <code>.qmd</code> file.</p>
</div>
</div>
<p>CSL files also can be tweaked to meet custom formatting requirements. For example, we can change the number of authors required before ‚Äúet al.‚Äù is used to abbreviate them. This can be simplified through the use of visual editors such as the one available at <a href="https://editor.citationstyles.org" class="uri">https://editor.citationstyles.org</a>.</p>
</section>
<section id="sec-options" class="level1">
<h1>Other cool features</h1>
<section id="add-an-item-to-a-bibliography-without-using-it" class="level4">
<h4 class="anchored" data-anchor-id="add-an-item-to-a-bibliography-without-using-it">Add an item to a bibliography without using it</h4>
<p>By default, the bibliography will only display items that are directly referenced in the document. If you want to include items in the bibliography without actually citing them in the body text, you can define a dummy nocite metadata field and put the citations there. They will be included in the references cited at the end, even though there is no in-text citation.</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb11-1"><span class="pp" style="color: #AD0000;">---</span></span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;">nocite</span><span class="kw" style="color: #003B4F;">: </span><span class="ch" style="color: #20794D;">|</span></span>
<span id="cb11-3">  @item1, @item2</span>
<span id="cb11-4"><span class="pp" style="color: #AD0000;">---</span></span></code></pre></div>
</section>
<section id="add-all-items-to-the-bibliography" class="level4">
<h4 class="anchored" data-anchor-id="add-all-items-to-the-bibliography">Add all items to the bibliography</h4>
<p>If we do not wish to explicitly state all of the items within the bibliography but would still like to show them in our references, we can use the following syntax:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb12-1"><span class="pp" style="color: #AD0000;">---</span></span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;">nocite</span><span class="kw" style="color: #003B4F;">:</span><span class="at" style="color: #657422;"> </span><span class="st" style="color: #20794D;">'@*'</span></span>
<span id="cb12-3"><span class="pp" style="color: #AD0000;">---</span></span></code></pre></div>
<p>This will force all items to be displayed in the bibliography.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Resources
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can also have an appendix appear after bibliography. For more on this, see:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html</a></li>
</ul>
</div>
</div>
</section>
</section>
<section id="a-comment" class="level1">
<h1>A Comment</h1>
<p>We have learned that within your bibliography file (e.g.&nbsp;<code>my-refs.bib</code>), each reference gets a key, which is a shorthand that is generated by the reference manager or by yourself.</p>
<p>For instance, I use a format of <code>author:year</code> for example <code>Butler:2023</code> because it ªs easy for me to remember the literature that I want to cite that way. It makes it easier to write the content.</p>
<p>When there are multiple citations in a year by the same author last name, my BibDesk software adds two unique letters after the year (I usually manually change it to one letter, i.e., <code>Butler:2023a</code>) so that each citation has a unique key.</p>
<p>You can choose any format you wish, just pick one and use it <em>forever</em>. As you write more papers, you can easily copy citations into your different bibliographies. You are building a database that is <em>reusable</em>.</p>
<p>In your R Markdown document, you can then cite the reference by adding the key, such as <code>...in the paper by Butler et al. [@Butler:2022]...</code>.</p>
</section>
<section id="post-lecture-materials" class="level1">
<h1>Post-lecture materials</h1>
<section id="practice" class="level3">
<h3 class="anchored" data-anchor-id="practice">Practice</h3>
<p>Here are some post-lecture tasks to practice some of the material discussed.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Try out the following:</strong></p>
<ol type="1">
<li><p>What do you notice that‚Äôs different when you run <code>citation("tidyverse")</code> (compared to <code>citation("rmarkdown")</code>)?</p></li>
<li><p>Install the following packages:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;">install.packages</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"bibtex"</span>, <span class="st" style="color: #20794D;">"RefManageR"</span>)</span></code></pre></div>
</div>
<p>What do they do? How might they be helpful to you in terms of reference management?</p>
<ol start="3" type="1">
<li>Practice using a different CSL file to change the citation style.</li>
</ol>
</div>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-rmarkdown" class="csl-entry">
Allaire, JJ, Yihui Xie, Jonathan McPherson, Javier Luraschi, Kevin Ushey, Aron Atkins, Hadley Wickham, Joe Cheng, Winston Chang, and Richard Iannone. 2022. <em>Rmarkdown: Dynamic Documents for r</em>. <a href="https://CRAN.R-project.org/package=rmarkdown">https://CRAN.R-project.org/package=rmarkdown</a>.
</div>
<div id="ref-rmarkdown2018" class="csl-entry">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
<div id="ref-rmarkdown2020" class="csl-entry">
Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em>R Markdown Cookbook</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown-cookbook">https://bookdown.org/yihui/rmarkdown-cookbook</a>.
</div>
</div></section></div> ]]></description>
  <category>module 1</category>
  <category>week 3</category>
  <category>Quarto</category>
  <category>authoring</category>
  <category>BibTeX</category>
  <category>programming</category>
  <guid>https://mbutler808.github.io/posts/2023-02-01-reference-management/index.html</guid>
  <pubDate>Tue, 31 Jan 2023 10:00:00 GMT</pubDate>
</item>
<item>
  <title>Reproducible Research</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-26-reproducible-research/index.html</link>
  <description><![CDATA[ 




<blockquote class="blockquote">
<p>The shocking assertion will be that most statistics in most scientific papers has errors. ‚Äî<em>Charles Geyer</em></p>
</blockquote>
<section id="pre-lecture-materials" class="level1">
<h1>Pre-lecture materials</h1>
<section id="read-ahead" class="level3">
<h3 class="anchored" data-anchor-id="read-ahead">Read ahead</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li><a href="https://rss.onlinelibrary.wiley.com/doi/epdf/10.1111/1740-9713.01522">Statistical programming, Small mistakes, big impacts</a> by Simon Schwab and Leonhard Held</li>
<li><a href="https://www.annualreviews.org/doi/abs/10.1146/annurev-publhealth-012420-105110">Reproducible Research: A Retrospective</a> by Roger Peng and Stephanie Hicks</li>
</ol>
</div>
</div>
</section>
<section id="acknowledgements" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h3>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="http://users.stat.umn.edu/~geyer/Sweave/" class="uri">http://users.stat.umn.edu/~geyer/Sweave/</a></li>
<li><a href="http://users.stat.umn.edu/~geyer/repro.pdf" class="uri">http://users.stat.umn.edu/~geyer/repro.pdf</a></li>
<li><a href="https://rdpeng.github.io/Biostat776" class="uri">https://rdpeng.github.io/Biostat776</a></li>
<li><a href="https://www.annualreviews.org/doi/abs/10.1146/annurev-publhealth-012420-105110">Reproducible Research: A Retrospective</a> by Roger Peng and Stephanie Hicks</li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know the difference between replication and reproducibility</li>
<li>Identify valid reasons why replication and/or reproducibility is not always possible</li>
<li>Identify the type of reproducibility</li>
<li>Identify key components to enable reproducible data analyses</li>
</ul>
</div>
</div>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>From a young age, we have learned that scientific conclusions should be <strong>reproducible</strong>. After all, isn ªt that what the methods section is for? We are taught to write methods sections so that any scientist could, in theory, repeat the experiment with the idea that if the phenomenon is true, they should obtain comparable results and more often than not should come to the same conclusions.</p>
<p><em>But how repeatable is modern science?</em> Many experiments are now so complex and so expensive that repeating them is not practical. However, it is even worse than that. As datasets get larger and analyses become ever more complex, there is a growing concern that even given the data, we still cannot necessarily repeat the analysis. This is called <strong>‚Äúthe reproducbility crisis‚Äù</strong>.</p>
<p>Recently, there has been a lot of discussion of reproducibility in the media and in the scientific literature. The journal <em>Science</em> had a special issue on reproducibility and data replication.</p>
<ul>
<li><a href="https://www.science.org/toc/science/334/6060" class="uri">https://www.science.org/toc/science/334/6060</a></li>
</ul>
<p>Take for example a recent study by the <a href="https://doi.org/10.1073/pnas.2203150119">Crowdsourced Replication Initiative (2022)</a>. It was a massive effort by 166 coauthors published in PNAS to test repeatability:</p>
<ul>
<li>73 research teams from around the world analyzed the <strong>same social science data</strong>.</li>
<li>They investigated the <strong>same hypothesis</strong>: that more immigration will reduce public support for government provision of social policies.</li>
<li>Together they fit 1261 statistical models and came to widely varying concluisons.</li>
<li>A meta-analysis of the results by the PIs could not explain the variation in results. Even after accounting for the choices made by the research teams in designing their statistical tests, 95% of the total variation remained unexplained.</li>
<li>The authors claim that ‚Äúa hidden universe of uncertainty remains.‚Äù</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/images/reproducible_study.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><a href="https://www.pnas.org/doi/10.1073/pnas.2203150119">Source: Breznau et al., 2022</a></p>
<p>This should be very disturbing. It was very disturbing to me! <a href="http://users.stat.umn.edu/~geyer/repro-paper.pdf">Greyer</a> notes that the meta-analysis did not investigate how much of the variability of results was due to outright error. He furthermore notes that while the meta-analysis was done in a reproducibly, the original 73 analyses were not. What does he mean?</p>
</section>
<section id="some-of-the-issues-from-a-statistician ªs-perspective" class="level1">
<h1>Some of the issues from a statistician ªs perspective</h1>
<p>Greyer provides nine ideas worth considering:</p>
<ol type="1">
<li>Most scientific papers that need statistics have conclusions that are not actually supported by the statistical calculations done, because of
<ol type="a">
<li>mathematical or computational error,</li>
<li>statistical procedures inappropriate for the data, or</li>
<li>statistical procedures that do not lead to the inferences claimed.</li>
</ol></li>
<li>Good computing practices ‚Äî version control, well thought out testing, code reviews, literate programming ‚Äî are essential to correct computing.</li>
<li>Failure to do all calculations from raw data to conclusions (every number or figure shown in a paper) in a way that is fully reproducible and available in a permanent public repository is, by itself, a questionable research practice.</li>
<li>Failure to do statistics as if it could have been pre-registered is a questionable research practice.</li>
<li>Journals that use P &lt; 0.05 as a criterion of publication are not scientific journals (publishing only one side of a story is as unscientific as it is possible to be).</li>
<li>Statistics should be adequately described, at least in the supplementary material.</li>
<li>Scientific papers whose conclusions depend on nontrivial statistics should have statistical referees, and those referees should be heeded.</li>
<li>Not all errors are describable by statistics. There is also what physicists call <em>systematic error</em> that is the same in every replication of an experiment. Physicists regularly attempt to quantify this. Others should too.</li>
</ol>
<p>A reasonable ideal for reproducible research today - Research should be reproducible. Anything in a scientific paper should be reproducible by the reader. - Whatever may have been the case in low tech days, this ideal has long gone. Much scientific research in recent years is too complicated and the published details to scanty for anyone to reproduce it. - The lack of detail is not entirely the author‚Äôs fault. Journals have severe page pressure and no room for full explanations. - For many years, the only hope of reproducibility is old-fashioned person-to-person contact. Write the authors, ask for data, code, whatever. Some authors help, some don‚Äôt. If the authors are not cooperative, tough. - Even cooperative authors may be unable to help. If too much time has gone by and their archiving was not systematic enough and if their software was unportable, there may be no way to recreate the analysis. - Fortunately, the internet comes to the rescue. No page pressure there! - Nowadays, many scientific papers also point to supplementary materials on the internet. Data, computer programs, whatever should be there, permanently. Ideally with a permanent Document Identifier or DOI. There are complaints that many Supplmentary Materials are incomprehensible, but that can be improved with practices of reproducible reserach.</p>
<p>Therefore, at the very least scientists should use in their statistical programming - version control, - software testing, - code reviews, - literate programming, and - all data and code available in a permanent public repository.</p>
<p>Some journals have specific policies to promote reproducibility in manuscripts that are published in their journals. For example, the Journal of American Statistical Association (JASA) requires authors to submit their code and data to reproduce their analyses and a set of Associate Editors of Reproducibility review those materials as part of the review process:</p>
<ul>
<li><a href="https://jasa-acs.github.io/repro-guide" class="uri">https://jasa-acs.github.io/repro-guide</a></li>
</ul>
</section>
<section id="recommendations" class="level1">
<h1>Recommendations</h1>
<p><a href="https://rss.onlinelibrary.wiley.com/doi/epdf/10.1111/1740-9713.01522">Discuss Table 1</a></p>
<section id="authors-and-readers" class="level3">
<h3 class="anchored" data-anchor-id="authors-and-readers">Authors and Readers</h3>
<p>It is important to realize that there are multiple players when you talk about reproducibility‚Äìthere are different types of parties that have different types of interests. There are <strong>authors</strong> who produce research and they want to make their research reproducible. There are also <strong>readers</strong> of research and they want to reproduce that work. Everyone needs tools to make their lives easier.</p>
<p>One current <strong>challenge is that authors of research have to undergo considerable effort to make their results available to a wide audience</strong>.</p>
<ul>
<li>Publishing data and code today is not necessarily a trivial task. Although there are a number of resources available now, that were not available even five years ago, it is still a bit of a challenge to get things out on the web (or at least distributed widely).</li>
<li>Resources like <a href="https://github.com">GitHub</a>, <a href="https://kipoi.org">kipoi</a>, and <a href="http://rpubs.com">RPubs</a> and various data repositories have made a big difference, but there is still a ways to go with respect to building up the public reproducibility infrastructure.</li>
</ul>
<p>Furthermore, <strong>even when data and code are available</strong>, readers often have to download the data, download the code, and then they have to piece everything together, usually by hand. It‚Äôs <strong>not always an easy task to put the data and code together</strong>.</p>
<ul>
<li>Readers may not have the same computational resources that the original authors did.</li>
<li>If the original authors used an enormous computing cluster, for example, to do their analysis, the readers may not have that same enormous computing cluster at their disposal. It may be difficult for readers to reproduce the same results.</li>
</ul>
<p>Generally, the <strong>toolbox for doing reproducible research is small</strong>, although <strong>it‚Äôs definitely growing</strong>.</p>
<ul>
<li>In practice, authors often just throw things up on the web. There are journals and supplementary materials, but they are famously disorganized.</li>
<li>There are only a few central databases that authors can take advantage of to post their data and make it available. So if you are working in a field that has a central database that everyone uses, that is great. If you are not, then you have to assemble your own resources.</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Summary
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>The process of conducting and disseminating research can be depicted as a ‚Äúdata science pipeline‚Äù</p></li>
<li><p>Readers and consumers of data science research are typically not privy to the details of the data science pipeline</p></li>
<li><p>One view of reproducibility is that it gives research consumers partial access to the raw pipeline elements.</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="post-lecture-materials" class="level1">
<h1>Post-lecture materials</h1>
<section id="final-questions" class="level3">
<h3 class="anchored" data-anchor-id="final-questions">Final Questions</h3>
<p>Here are some post-lecture questions to help you think about the material discussed.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Why can replication be difficult to achieve? Why is reproducibility a reasonable minimum standard when replication is not possible?</p></li>
<li><p>What is needed to reproduce the results of a data analysis?</p></li>
</ol>
</div>
</div>
</section>
<section id="additional-resources" class="level3">
<h3 class="anchored" data-anchor-id="additional-resources">Additional Resources</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="http://users.stat.umn.edu/~geyer/repro-paper.pdf">Reproducibility and Error</a> by Charles J. Geyer</li>
</ul>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>module 1</category>
  <category>week 2</category>
  <category>R</category>
  <category>reproducibility</category>
  <guid>https://mbutler808.github.io/posts/2023-01-26-reproducible-research/index.html</guid>
  <pubDate>Thu, 26 Jan 2023 10:00:00 GMT</pubDate>
</item>
<item>
  <title>Literate Statistical Programming and Quarto</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-26-intro-quarto/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="pre-lecture-materials" class="level1">
<h1>Pre-lecture materials</h1>
<section id="read-ahead" class="level2">
<h2 class="anchored" data-anchor-id="read-ahead">Read ahead</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Before class, you can prepare by reading the following materials:</strong></p>
<ol type="1">
<li><a href="https://rss.onlinelibrary.wiley.com/doi/epdf/10.1111/1740-9713.01522" class="uri">https://rss.onlinelibrary.wiley.com/doi/epdf/10.1111/1740-9713.01522</a></li>
<li>Creating a Website in Quarto quickstart <em>up to and including Render</em> <a href="https://quarto.org/docs/websites/" class="uri">https://quarto.org/docs/websites/</a></li>
<li>Publishing to GitHub <em>up to and including Render to docs</em> <a href="https://quarto.org/docs/publishing/github-pages.html" class="uri">https://quarto.org/docs/publishing/github-pages.html</a></li>
</ol>
</div>
</div>
</section>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="https://www.stephaniehicks.com/jhustatcomputing2022/posts/2022-09-01-literate-programming/" class="uri">https://www.stephaniehicks.com/jhustatcomputing2022/posts/2022-09-01-literate-programming/</a></li>
<li><a href="http://users.stat.umn.edu/~geyer/Sweave/" class="uri">http://users.stat.umn.edu/~geyer/Sweave/</a></li>
<li><a href="https://rdpeng.github.io/Biostat776/lecture-literate-statistical-programming.html" class="uri">https://rdpeng.github.io/Biostat776/lecture-literate-statistical-programming.html</a></li>
<li><a href="https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown" class="uri">https://statsandr.com/blog/tips-and-tricks-in-rstudio-and-r-markdown</a></li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Be able to define literate programming</li>
<li>Know how to use R plus a text editor or Rstudio to practice literate programming</li>
<li>Create a Quarto markdown document</li>
</ul>
</div>
</div>
</section>
<section id="literate-programming" class="level1">
<h1>Literate Programming</h1>
<p>Before there was widespread concern about ‚ÄúReproducible Research‚Äù, the term <strong>literate programming</strong> was coined by <a href="https://www-cs-faculty.stanford.edu/~knuth/">Donald Knuth</a>, one of the true geniuses of computing, the author/inventor of TeX, and the notion of structured programming, among other things. He wrote a book about it in 1984!</p>
<blockquote class="blockquote">
<p>Literate programming is a methodology that combines a programming language with a documentation language, thereby making programs more robust, more portable, more easily maintained, and arguably more fun to write than programs that are written only in a high-level language.</p>
</blockquote>
<blockquote class="blockquote">
<p>The main idea is to treat a program as a piece of literature, <em>addressed to human beings rather than to a computer</em>. The program is also viewed as a hypertext document, rather like the World Wide Web. (Indeed, I used the word WEB for this purpose long before CERN grabbed it!) ‚Äî<em>Donald Knuth</em></p>
</blockquote>
<p>The basic idea is that:</p>
<ul>
<li>Programs are useless without descriptions.</li>
<li>Descriptions should be literate, not comments in code or typical reference manuals.</li>
<li>The <em>code</em> in the descriptions <em>should work</em>. Thus it is necessary to extract the real working code from the literary description.</li>
</ul>
<p>These concepts were baked into the R help pages. You will see that there are working code examples for every single function in R at the bottom of each help page. In fact it is required before a package will be published on CRAN.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Additional Reading
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Knuth ªs Webpage about his <a href="https://www-cs-faculty.stanford.edu/~knuth/lp.html">book on Literate Programming</a></li>
</ul>
</div>
</div>
</section>
<section id="the-data-science-pipeline" class="level1">
<h1>The Data Science Pipeline</h1>
<p>The basic issue is when you read a description of a data analysis, such as in an article or a technical report, for the most part, what you get is the report and nothing else.</p>
<p>Of course, everyone knows that behind the scenes <strong>there‚Äôs a lot that went into this article</strong> and that is what I call the <strong>data science pipeline</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/dspipeline.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">The Data Science Pipeline</figcaption><p></p>
</figure>
</div>
</section>
<section id="literate-programming-in-practice" class="level1">
<h1>Literate Programming in Practice</h1>
<p>One basic idea to make writing reproducible reports easier is what‚Äôs known as <em>literate statistical programming</em>. The idea is to <strong>think of a report or a publication as a stream of text and code</strong>.</p>
<ul>
<li><p>The text is readable by people and the code is readable by computers.</p></li>
<li><p>The analysis is described in a series of text and code chunks.</p></li>
<li><p>Each kind of code chunk will do something like load some data or compute some results.</p></li>
<li><p>Each text chunk will relay something in a human readable language.</p></li>
<li><p><strong>The code and text remain together</strong> in a single source document. No more separate analysis files and word processing files. When code is edited, the report is automatically generated and updated.</p></li>
</ul>
<p>There might also be <strong>presentation code</strong> that formats tables and figures and there‚Äôs article text that explains what‚Äôs going on around all this code. This stream of text and code is a literate statistical program or a literate statistical analysis.</p>
<section id="weaving-and-tangling" class="level2">
<h2 class="anchored" data-anchor-id="weaving-and-tangling">Weaving and Tangling</h2>
<p>Literate programs by themselves are a bit difficult to work with, but they can be processed in two important ways.</p>
<p>Literate programs can be <strong>weaved</strong> to produce human readable documents like PDFs or HTML web pages, and they can <strong>tangled</strong> to produce machine-readable ‚Äúdocuments‚Äù, or in other words, machine readable code.</p>
<p>In order to use a system like this you need a documentational language, that‚Äôs human readable, and you need a programming language that‚Äôs machine readable (or can be compiled/interpreted into something that‚Äôs machine readable).</p>
</section>
<section id="sweave" class="level2">
<h2 class="anchored" data-anchor-id="sweave">Sweave</h2>
<p>One of the original literate programming systems in R that was designed to do this was called Sweave written by <a href="https://documents.uow.edu.au/content/groups/public/@web/@commerce/documents/doc/uow012868.pdf">Friedrich Leisch</a>. Sweave enables users to combine R code with a documentation program called LaTeX. Sweave revolutionized coding, and has become part of the R base code. Leisch is on the R Core Development Team and the BioConductor Project.</p>
<p><strong>Sweave files ends a <code>.Rnw</code></strong> and have R code weaved through the document:</p>
<pre><code>&lt;&lt;plot1, height=4, width=5, eval=FALSE&gt;&gt;=
data(airquality)
plot(airquality$Ozone ~ airquality$Wind)
@</code></pre>
<p>Once you have created your <code>.Rnw</code> file, Sweave will process the file, executing the R chunks and replacing them with output as appropriate before creating the PDF document.</p>
<p>Sweave ªs main limitation is that it requires knowledge of LaTeX</p>
<ul>
<li>LaTeX is very powerful for laying out mathematical equations and fine-tuned control of formatting, but is not a documentation language that is widely used outside of mathematics.</li>
<li>Therefore, there is a steep learning curve.</li>
<li>Sweave also <strong>lacks a lot of features that people find useful</strong> like caching, and multiple plots per page and mixing programming languages.</li>
</ul>
<p>Instead, folks have moved towards using something called <strong>knitr</strong>, which offers everything Sweave does, plus it extends it to much simpler Markdown documents.</p>
</section>
<section id="rmarkdown" class="level2">
<h2 class="anchored" data-anchor-id="rmarkdown">rmarkdown</h2>
<p>Another choice for literate programming is to build documents based on <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> language. A markdown file is a plain text file that is typically given the extension <code>.md</code>. The <a href="https://CRAN.R-project.org/package=rmarkdown"><code>rmarkdown</code></a> R package takes a R Markdown file (<code>.Rmd</code>) and weaves together R code chunks Figure&nbsp;1, producing a large number of user-specified outputs.</p>
<div id="fig-rmarkdown" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/Rmarkdown.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: R markdown translates text and code to many different formats</figcaption><p></p>
</figure>
</div>
<p>R chunks surrounded by text looks like this:</p>
<pre><code>```{r plot1, height=4, width=5, eval=FALSE, echo=TRUE}
data(airquality)
plot(airquality$Ozone ~ airquality$Wind)
```</code></pre>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The best resource for learning about R Markdown this by Yihui Xie, J. J. Allaire, and Garrett Grolemund:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a></li>
</ul>
<p>The R Markdown Cookbook by Yihui Xie, Christophe Dervieux, and Emily Riederer is really good too:</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a></li>
</ul>
<p>The authors of the 2nd book describe the motivation for the 2nd book as:</p>
<blockquote class="blockquote">
<p>‚ÄúHowever, we have received comments from our readers and publisher that it would be beneficial to provide more practical and relatively short examples to show the interesting and useful usage of R Markdown, because it can be daunting to find out how to achieve a certain task from the aforementioned reference book (put another way, that book is too dry to read). As a result, this cookbook was born.‚Äù</p>
</blockquote>
</div>
</div>
<p>Because this is lecture is built in a <code>.qmd</code> file (which is very similar to a <code>.Rmd</code> file), let‚Äôs demonstrate how this work. I am going to change <code>eval=FALSE</code> to <code>eval=TRUE</code>.</p>
<div class="cell" height="4" width="5">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">data</span>(airquality)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;">plot</span>(airquality<span class="sc" style="color: #5E5E5E;">$</span>Ozone <span class="sc" style="color: #5E5E5E;">~</span> airquality<span class="sc" style="color: #5E5E5E;">$</span>Wind)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/posts/2023-01-26-intro-quarto/index_files/figure-html/plot2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Why do we not see the back ticks ``` anymore in the code chunk above that made the plot?</li>
<li>What do you think we should do if we want to have the code executed, but we want to hide the code that made it?</li>
</ol>
</div>
</div>
<p>Before we leave this section, I find that there is quite a bit of terminology to understand the magic behind <code>rmarkdown</code> that can be confusing, so let‚Äôs break it down:</p>
<ul>
<li><a href="https://pandoc.org">Pandoc</a>. Pandoc is a command line tool with no GUI that converts documents (e.g.&nbsp;from number of different markup formats to many other formats, such as .doc, .pdf etc). It is completely independent from R (but does come bundled with RStudio). If you don ªt have Rstudio installed, you will have to install <code>pandoc</code>.</li>
<li><a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> (<strong>markup language</strong>). Markdown is a lightweight <a href="https://en.wikipedia.org/wiki/Markup_language">markup language</a> with plain text formatting syntax designed so that it can be converted to HTML and many other formats. A markdown file is a plain text file that is typically given the extension <code>.md.</code> It is completely independent from R.</li>
<li>R Markdown (<strong>markup language</strong>). R Markdown is an extension of the markdown syntax for weaving together text with R code. R Markdown files are plain text files that typically have the file extension <code>.Rmd</code>.</li>
<li><a href="https://CRAN.R-project.org/package=rmarkdown"><code>rmarkdown</code></a> (<strong>R package</strong>). The R package <code>rmarkdown</code> is a library that uses pandoc to process and convert text and R code written in <code>.Rmd</code> files into a number of different formats. This core function is <code>rmarkdown::render()</code>. <strong>Note</strong>: this package only deals with the markdown language. If the input file is e.g.&nbsp;<code>.Rhtml</code> or <code>.Rnw</code>, then you need to use <code>knitr</code> prior to calling pandoc (see below).</li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Check out the R Markdown Quick Tour for more:</p>
<ul>
<li><a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html" class="uri">https://rmarkdown.rstudio.com/authoring_quick_tour.html</a></li>
</ul>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/posts/2023-01-26-intro-quarto/https:/github.com/allisonhorst/stats-illustrations/raw/main/rstats-artwork/rmarkdown_rockstar.png" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Artwork by Allison Horst on RMarkdown</figcaption><p></p>
</figure>
</div>
<section id="knitr" class="level3">
<h3 class="anchored" data-anchor-id="knitr">knitr</h3>
<p>One of the alternative that has come up in recent times is something called <code>knitr</code>.</p>
<ul>
<li>The <code>knitr</code> package for R takes a lot of these ideas of literate programming and updates and improves upon them.</li>
<li><code>knitr</code> still uses R as its programming language, but it allows you to mix other programming languages in.</li>
<li>You can also use a variety of documentation languages now, such as LaTeX, markdown and HTML.</li>
<li><code>knitr</code> was developed by Yihui Xie while he was a graduate student at Iowa State and it has become a very popular package for writing literate statistical programs.</li>
</ul>
<p>Knitr takes a plain text document with embedded code, executes the code and ‚Äòknits‚Äô the results back into the document.</p>
<p>For for example, it converts</p>
<ul>
<li>An R Markdown (<code>.Rmd)</code> file into a standard markdown file (<code>.md</code>)</li>
<li>An <code>.Rnw</code> (Sweave) file into to <code>.tex</code> format.</li>
<li>An <code>.Rhtml</code> file into to <code>.html</code>.</li>
</ul>
<p>The core function is <code>knitr::knit()</code> and by default this will look at the input document and try and guess what type it is e.g.&nbsp;<code>Rnw</code>, <code>Rmd</code> etc.</p>
<p>This core function performs three roles:</p>
<ul>
<li>A <strong>source parser</strong>, which looks at the input document and detects which parts are code that the user wants to be evaluated.</li>
<li>A <strong>code evaluator</strong>, which evaluates this code</li>
<li>An <strong>output renderer</strong>, which writes the results of evaluation back to the document in a format which is interpretable by the raw output type. For instance, if the input file is an <code>.Rmd</code>, the output render marks up the output of code evaluation in <code>.md</code> format.</li>
</ul>
<div class="cell" data-layout-align="center" data-preview="true">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/posts/2023-01-26-intro-quarto/https:/d33wubrfki0l68.cloudfront.net/61d189fd9cdf955058415d3e1b28dd60e1bd7c9b/9791d/images/rmarkdownflow.png" class="img-fluid figure-img" style="width:60.0%"></p>
<p></p><figcaption class="figure-caption">Converting a Rmd file to many outputs using knitr and pandoc</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>[<a href="https://rmarkdown.rstudio.com/authoring_quick_tour.html">Source</a>]</p>
<p>As seen in the figure above, from there pandoc is used to convert e.g.&nbsp;a <code>.md</code> file into many other types of file formats into a <code>.html</code>, etc.</p>
<p>So in summary:</p>
<blockquote class="blockquote">
<p>‚ÄúR Markdown stands on the shoulders of knitr and Pandoc. The former executes the computer code embedded in Markdown, and converts R Markdown to Markdown. The latter renders Markdown to the output format you want (such as PDF, HTML, Word, and so on).‚Äù</p>
</blockquote>
<p>[<a href="https://bookdown.org/yihui/rmarkdown/">Source</a>]</p>
</section>
</section>
</section>
<section id="in-comes-quarto" class="level1">
<h1>In comes Quarto</h1>
<p>The folks who developed R Markdown have moved on to a new package called <a href="https://quarto.org">Quarto</a>. Quarto contains many of the features of R Markdown, but importantly, is now separate from Rstudio. It is intentionally developed as a cross-platform, cross-language markup language. It works with R, Python, Julia, and Observable. And is rapidly catching on with the statistical coding community.</p>
<p>Quarto can render output to many formats of documents including html, pdf, docx, md. It can also layout websites, presentations, or even books. It supports interactive apps such as Rshiny among other things.</p>
<p>We are going to learn using Quarto. Let ªs start by getting a simple webpage up. Conceptually, there are three tasks:</p>
<ol type="1">
<li>Create your quarto website on your computer</li>
<li>Make your website folder into a GitHub repo</li>
<li>Publish your website via GitHub</li>
</ol>
<section id="create-your-website-locally-with-quarto" class="level2">
<h2 class="anchored" data-anchor-id="create-your-website-locally-with-quarto">Create your website locally with Quarto</h2>
<p>In this section, I am adding a bit more explanation to the Quarto quickstart guide <em>up to and including Render</em>. If something is not clear, please consult <a href="https://quarto.org/docs/websites/" class="uri">https://quarto.org/docs/websites/</a></p>
<p>There are three main quarto commands we will use:</p>
<ul>
<li><code>quarto create-project</code>: Make a website project template</li>
<li><code>quarto preview</code>: Take a look at what the webite will look like</li>
<li><code>quarto render</code>: Render your <code>qmd</code> to <code>html</code></li>
</ul>
<section id="make-your-website-directory-and-template" class="level3">
<h3 class="anchored" data-anchor-id="make-your-website-directory-and-template">Make your website directory and template</h3>
<p>Create your website (here called <code>mysite</code>) using the following command. It will make a directory of the same name and put the website contents within it.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;">quarto</span> create-project mysite <span class="at" style="color: #657422;">--type</span> website</span></code></pre></div>
</div>
<p>You should now see the following files in your <code>mysite</code> directory (Figure&nbsp;2):</p>
<div id="fig-webshell" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/quarto_web_shell_terminal.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Website files from the Terminal view</figcaption><p></p>
</figure>
</div>
<p>This is the bare-bones version of your website. Check that the code is functional by looking at a preview:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;">quarto</span> preview</span></code></pre></div>
</div>
<p>This should open up a browser window showing a temporary file made by quarto by rendering your website files.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><code>quarto preview</code> will refresh the preview every time you save your <code>index.qmd</code> (or any) website files. So it ªs a good idea to keep the preview open as you make edits and saves.</li>
<li>Check every edit, it is easier to debug in small steps.</li>
<li>Terminate <code>quarto preview</code> with <code>Control-c</code></li>
</ul>
</div>
</div>
</section>
<section id="render-your-website-to-html" class="level3">
<h3 class="anchored" data-anchor-id="render-your-website-to-html">Render your website to html</h3>
<p>Use quarto to render your content to html, the format used by browsers. First navigate into your website directory then render:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="bu" style="color: null;">cd</span> mysite</span>
<span id="cb6-2"><span class="ex" style="color: null;">quarto</span> render</span></code></pre></div>
</div>
<p>Take a look at the <code>mysite</code> contents after rendering, you should see a new directory <code>_site</code> (Figure&nbsp;3). The html was rendered and put in there (go ahead, open up the files and check it out):</p>
<div id="fig-afterrender" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/quarto_web_rendered.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: Website files after rendering</figcaption><p></p>
</figure>
</div>
</section>
<section id="personalize-your-content" class="level3">
<h3 class="anchored" data-anchor-id="personalize-your-content">Personalize your content</h3>
<p>What is really nice is that you can personalize your website by simply editing the quarto markdown and yaml files.</p>
<section id="web-content-goes-in-.qmd" class="level4">
<h4 class="anchored" data-anchor-id="web-content-goes-in-.qmd">Web content goes in <code>.qmd</code></h4>
<p>Using any text editor, edit the <code>index.qmd</code> to personalize your website.</p>
<p>The first section of your <code>index.qmd</code> is the header. You can change the title and add additional header information, including any cover images and website templates.</p>
<p>For example this is what I have in my course website <code>index.qmd</code> header. Note that my cover image is in a folder called <code>images</code> within at the top level of my website directory. If you want to try this out substitute or remove the image line and change the twitter/github handles.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;">---</span></span>
<span id="cb7-2"><span class="ex" style="color: null;">title:</span> <span class="st" style="color: #20794D;">"Welcome to Introduction to Data Science in R for Biologists!"</span></span>
<span id="cb7-3"><span class="ex" style="color: null;">image:</span> images/mycoolimage.png</span>
<span id="cb7-4"><span class="ex" style="color: null;">about:</span></span>
<span id="cb7-5">  <span class="ex" style="color: null;">template:</span> jolla</span>
<span id="cb7-6">  <span class="ex" style="color: null;">links:</span></span>
<span id="cb7-7">    <span class="ex" style="color: null;">-</span> icon: twitter</span>
<span id="cb7-8">      <span class="ex" style="color: null;">text:</span> Twitter</span>
<span id="cb7-9">      <span class="ex" style="color: null;">href:</span> https://twitter.com/mbutler808</span>
<span id="cb7-10">    <span class="ex" style="color: null;">-</span> icon: github</span>
<span id="cb7-11">      <span class="ex" style="color: null;">text:</span> Github</span>
<span id="cb7-12">      <span class="ex" style="color: null;">href:</span> https://github.com/mbutler808</span>
<span id="cb7-13"><span class="ex" style="color: null;">---</span></span></code></pre></div>
</div>
<p>You should edit the body of your website as well. You simply edit the text.</p>
<p>The <a href="https://quarto.org/docs/authoring/markdown-basics.html">quarto markdown page</a> has great examples showing how to format your content. Take a look at how to specify header sizes, lists, figures and tables.</p>
<p>Try editing the <code>about.qmd</code> file as well. You will notice that this is another tab in your website. YOu can add more tabs by adding <code>.qmd</code> files.</p>
<p>With each addition, be sure to <code>quarto preview</code> your changes to make sure it works. When you are satisfied with your website, <code>quarto render</code> to render to html.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>When editing markdown, take care to note spaces and indents as they are interpreted for formatting.</li>
<li>Indentations are really important for formatting lists.</li>
<li>For example in a hyperlink, there is no space between the square brackets and parentheses. <code>[This is a cool link](http://mycoollink.com)</code></li>
</ul>
</div>
</div>
</section>
<section id="website-wide-settings-go-in-_quarto.yml" class="level4">
<h4 class="anchored" data-anchor-id="website-wide-settings-go-in-_quarto.yml">Website-wide settings go in <code>_quarto.yml</code></h4>
<p>All Quarto projects include a <code>_quarto.yml</code> configuration file that sets the global options that apply across the entire website.</p>
<p><code>YAML</code> started off as ‚ÄúYet Another Markup Language‚Äù üòú. It is clean, clear, and widely used. You can edit your YAML to add options or change the format of your website. Take a look at your <code>_quarto.yml</code>.</p>
<p>Here is an example for a simple website. <code>title:</code> is the parameter to set the website ªs title. <code>navbar:</code> sets the menu, in this case on the left sidebar. By default tabs will be named based on the names of the <code>.qmd</code> files, but you can set them manually. There are many <a href="https://quarto.org/docs/output-formats/html-themes.html">themes</a> you can choose from too, check them out. For something different try <code>cyborg</code>.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>_quarto.yml</strong></pre>
</div>
<pre class="bask"><code>project:
  type: website

website:
  title: "today"
  navbar:
    left:
      - href: index.qmd
        text: Home
      - about.qmd

format:
  html:
    theme: minty
    css: styles.css
    toc: true</code></pre>
</div>
<p>Again, after saving your edits, <code>quarto preview</code> to see the effects. When you are satisfied with your website, <code>quarto render</code> to render to html.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;">quarto</span> render</span></code></pre></div>
</div>
</section>
</section>
</section>
<section id="publishing-your-website-to-github" class="level2">
<h2 class="anchored" data-anchor-id="publishing-your-website-to-github">Publishing your website to GitHub</h2>
<p>You can publish your website for free on GitHub, which is a very cool feature. In his section I am adding a bit more explanation to the Quarto quickstart guide <em>up to and including Render to docs</em> <a href="https://quarto.org/docs/publishing/github-pages.html" class="uri">https://quarto.org/docs/publishing/github-pages.html</a>. I describe the most important stpes below:</p>
<ol type="1">
<li>Render your html to a <code>docs</code> directory</li>
<li>Supress GitHub <code>jekyll</code> html processing by creating a <code>.nojekyll</code> file</li>
<li>Make your website directory into a repo, and link it to a GitHub repo</li>
<li>Edit the GitHub repo settings to publish your website</li>
</ol>
<section id="render-your-html-to-docs" class="level3">
<h3 class="anchored" data-anchor-id="render-your-html-to-docs">Render your html to <code>docs</code></h3>
<p>Edit the <code>_quarto.yml</code> file at the top level of your website to send output to <code>docs</code>. This will also create the <code>docs</code> folder.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>_quarto.yml</strong></pre>
</div>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;">project:</span></span>
<span id="cb10-2">  <span class="ex" style="color: null;">type:</span> website</span>
<span id="cb10-3">  <span class="ex" style="color: null;">output-dir:</span> docs</span></code></pre></div>
</div>
<p>The next time you <code>quarto render</code> it will create <code>docs</code> and all of its contents.</p>
</section>
<section id="supress-github-jekyll-html-processing" class="level3">
<h3 class="anchored" data-anchor-id="supress-github-jekyll-html-processing">Supress GitHub <code>jekyll</code> html processing</h3>
<p>GitHub uses a sofware called <code>jekyll</code> to render html from markdown. Since we ªre using <code>quarto</code>, we want to supress that. Create an empty file named <code>.nojekyll</code> at the top level of your website directory to supress default <code>jekyll</code> processing.</p>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 47%">
</colgroup>
<tbody>
<tr class="odd">
<td>Mac/Linux</td>
<td><div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="fu" style="color: #4758AB;">touch</span> .nojekyll</span></code></pre></div>
</div></td>
</tr>
<tr class="even">
<td>Windows</td>
<td><div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;">copy</span> NUL .nojekyll</span></code></pre></div>
</div></td>
</tr>
</tbody>
</table>
</section>
<section id="setup-a-github-repo-for-your-website" class="level3">
<h3 class="anchored" data-anchor-id="setup-a-github-repo-for-your-website">Setup a GitHub repo for your website</h3>
<ol type="1">
<li>Turn your website directory into a git repo:</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="fu" style="color: #4758AB;">git</span> init</span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;">git</span> add .</span>
<span id="cb13-3"><span class="fu" style="color: #4758AB;">git</span> commit <span class="at" style="color: #657422;">-m</span> <span class="st" style="color: #20794D;">"first commit"</span></span></code></pre></div>
</div>
<ol start="2" type="1">
<li>Create a GitHub repo by the same name</li>
</ol>
<p>For example, mine might be <code>github.com/mbutler808/mysite</code>.</p>
<ol start="3" type="1">
<li>Link your local repo and GitHub repo together</li>
</ol>
<p>If you forgot how to do this, <a href="https://mbutler808.github.io/rclass/posts/2023-01-24-intro-git-github/#make-a-github-repo-started-from-your-local-files">go back here</a></p>
<ol start="4" type="1">
<li>Check your GitHub repo. Are your files there?</li>
</ol>
</section>
<section id="github-settings-to-serve-your-webpage" class="level3">
<h3 class="anchored" data-anchor-id="github-settings-to-serve-your-webpage">GitHub settings to serve your webpage</h3>
<p>Almost there! A couple more steps.</p>
<p>From your GitHub repo, click on <code>Settings</code> in the top menu, and <code>Pages</code> on the left menu.</p>
<p>Your website should deploy from branch. Under <code>Select branch</code> choose <code>main</code> and under <code>Select folder</code> choose <code>docs</code>.</p>
<p>After clicking <code>save</code> GitHub will trigger a deployment of your website. After a few minutes, your URL will appear near the top at <code>Your site is live at...</code>:</p>
<p><img src="https://mbutler808.github.io/images/github_pages.png" class="img-fluid"></p>
<p>Congratulations! ‚ö°Ô∏è Your website is now live üéâüéäüòç</p>
</section>
</section>
<section id="now-make-more-changes" class="level2">
<h2 class="anchored" data-anchor-id="now-make-more-changes">Now make more changes!</h2>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
The Quarto Workflow is
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Edit the content in .qmd</li>
<li>From the Command line:
<ul>
<li><code>quarto preview</code> to check that edits are correct</li>
<li><code>quarto render</code> to render <code>.qmd</code> to <code>.html</code></li>
<li><code>git add .</code></li>
<li><code>git commit -m "message"</code></li>
<li><code>git push origin main</code></li>
</ul></li>
<li>Check your website (this may take a beat)</li>
</ul>
</div>
</div>
</section>
<section id="for-fun" class="level2">
<h2 class="anchored" data-anchor-id="for-fun">For fun</h2>
<p>You can have fun with emoji! Guangchuang Yu wrote the package <code>emojifont</code> (this is the same person who wrote the widely used <code>ggtree</code> package) and now you can bring your emoji out of your phone and into your quarto documents! Install the R package <code>emojifont</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;">install.packages</span>(<span class="st" style="color: #20794D;">"emojifont"</span>)</span></code></pre></div>
</div>
<p>Then anywhere you want an emoji in the markdown file, you just type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">r emojifont::emoji('palm_tree')</span><span class="st" style="color: #20794D;">`</span></span></code></pre></div>
</div>
<p>üå¥</p>
<p>Or if you want several, just line them up:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">r emojifont::emoji('balloon')</span><span class="st" style="color: #20794D;">``</span><span class="at" style="color: #657422;">r emojifont::emoji('tada')</span><span class="st" style="color: #20794D;">``</span><span class="at" style="color: #657422;">r emojifont::emoji('smiley')</span><span class="st" style="color: #20794D;">`</span></span></code></pre></div>
</div>
<p>üéàüéâüòÉ</p>
<p>There is a handy cheat sheet of emoji names here <a href="https://gist.github.com/rxaviers/7360908" class="uri">https://gist.github.com/rxaviers/7360908</a></p>
</section>
<section id="final-tips" class="level2">
<h2 class="anchored" data-anchor-id="final-tips">Final tips</h2>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Always always</strong> <code>quarto render</code> before you push up your changes to GitHub!</li>
<li>If your changes are not appearing, try <code>quarto preview</code> and check that your changes appear in the preview. Then <code>quarto render</code> before you use git to add, commit, and push</li>
<li>Note: It can take a few minutes to render on GitHub before your changes appear on your website</li>
</ul>
</div>
</div>
<p><strong>Please see <a href="https://www.stephaniehicks.com/jhustatcomputing2022/posts/2022-09-01-literate-programming/#create-and-knit-your-first-r-markdown-document">Stephanie Hicks ª lecture</a></strong> for more literate programming examples and tips.</p>
</section>
</section>
<section id="post-lecture-materials" class="level1">
<h1>Post-lecture materials</h1>
<section id="final-questions" class="level3">
<h3 class="anchored" data-anchor-id="final-questions">Final Questions</h3>
<p>Here are some post-lecture questions to help you think about the material discussed.</p>
</section>
<section id="questions-1" class="level3 questions">
<h3 class="anchored" data-anchor-id="questions-1">Questions</h3>
<ol type="1">
<li><p>What is literate programming?</p></li>
<li><p>What was the first literate statistical programming tool to weave together a statistical language (R) with a markup language (LaTeX)?</p></li>
<li><p>What is <code>knitr</code> and how is different than other literate statistical programming tools?</p></li>
<li><p>Where can you find a list of other commands that help make your code writing more efficient when using Quarto?</p></li>
</ol>
</section>
<section id="additional-resources" class="level3">
<h3 class="anchored" data-anchor-id="additional-resources">Additional Resources</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="http://www.r-project.org/conferences/DSC-2001/Proceedings/Rossini.pdf">Literate statistical practice</a>)</li>
<li>The introduction of Sweave by Friedrich Leisch in <a href="https://cran.r-project.org/doc/Rnews/Rnews_2002-3.pdf">2001 pg. 28</a></li>
<li><a href="https://indrajeetpatil.github.io/RmarkdownTips/">RMarkdown Tips and Tricks</a> by Indrajeet Patil</li>
<li><a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a></li>
</ul>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>module 1</category>
  <category>week 2</category>
  <category>Markdown</category>
  <category>Quarto</category>
  <category>programming</category>
  <guid>https://mbutler808.github.io/posts/2023-01-26-intro-quarto/index.html</guid>
  <pubDate>Thu, 26 Jan 2023 10:00:00 GMT</pubDate>
  <media:content url="https://mbutler808.github.io/images/dspipeline.png" medium="image" type="image/png" height="88" width="144"/>
</item>
<item>
  <title>Introduction to git/GitHub</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-24-intro-git-github/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="lecture-materials" class="level1">
<h1>Lecture materials</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Helpful references for this lecture
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><a href="https://happygitwithr.com">Happy Git with R</a> from Jenny Bryan</li>
<li><a href="https://rafalab.github.io/dsbook/git.html">Chapter on git and GitHub in <code>dsbook</code></a> from Rafael Irizarry</li>
<li><a href="https://andreashandel.github.io/MADAcourse">GitHub introduction in module 1</a> from Andreas Handel</li>
</ol>
</div>
</div>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="https://www.stephaniehicks.com/jhustatcomputing2022/" class="uri">https://www.stephaniehicks.com/jhustatcomputing2022/</a></li>
<li><a href="https://andreashandel.github.io/MADAcourse/Tools_Github_Introduction.html" class="uri">https://andreashandel.github.io/MADAcourse/Tools_Github_Introduction.html</a></li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p>Last time, you should have created and set up a GitHub account.</p>
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know what Git and GitHub are.</li>
<li>Know why one might want to use them.</li>
<li>Have created a repo and executed basic push/pull commands.</li>
</ul>
</div>
</div>
</section>
<section id="introduction-to-gitgithub" class="level1">
<h1>Introduction to git/GitHub</h1>
<p>This document gives a brief explanation of GitHub and how we will use it for this course.</p>
<section id="git" class="level2">
<h2 class="anchored" data-anchor-id="git">git</h2>
<p><strong>Git</strong> is software that implements what is called a <em>version control system</em> for a repository of files (also known as a <em>repo</em>). The main idea is that as you (and your collaborators) work on a project, the git software tracks, and records any changes made by anyone.</p>
<p><strong>GitHub</strong> is an online server and user interface that provides powerful tools for distribution of your repository, bug tracking, collaboration, and also allows you to create easy websites for each repository.</p>
<p><strong>Git</strong> and <strong>GitHub</strong> together provide an organized way to track your projects, and all of the tools you will need in this course are free.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/A-Solo-work-with-DIY-version-control-via-filename-B-Collaborative-work-with-DIY_W640.jpeg" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Figure 1. Whether working solo (A) or collaborating in a group (B) version tracking by naming files is a mess when you want to retrace the steps of the analysis (C). Git and GitHub track all changes and the complete branching tree of the project (D). The commit history is a powerful tool to retrace the development of the project or can be used to roll back to any prior version.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>[<a href="https://peerj.com/preprints/3159/">Source: Jenny Bryan</a>]</p>
<p>It is very well suited for collaborative work, as it was developed by Linus Torvalds (in about 10 days of coding!) for collaborative software development of the Linux kernel <a href="https://www.linuxfoundation.org/blog/blog/10-years-of-git-an-interview-with-git-creator-linus-torvalds">pretty interesting interview with Torvalds</a>. What it did really well was <em>distributed control</em>, and allowing everyone to have their <em>own copy of the repository</em>.</p>
<p><em>Git</em>/<em>GitHub</em> is now the dominant version control system with <em>GitHub</em> hosting over 200 million repositories worldwide! It is used very broadly for all kinds of repos now including data science projects, book projects, courses, and anything that needs collaborative management of mostly text files.</p>
<p>Another great and fun read about Git/GitHub and why it is a great tool for data analysis is in this article by <a href="https://peerj.com/preprints/3159/">Jenny Bryan</a>.</p>
</section>
<section id="what-to-not-use-gitgithub-for" class="level2">
<h2 class="anchored" data-anchor-id="what-to-not-use-gitgithub-for">What to (not) use Git/GitHub for</h2>
<p><strong>GitHub is ideal if</strong> you have a project with (possibly many) smallish files, and most of those files are text files (such as R code, LaTeX, Quarto/(R)Markdown, etc.) and different people work on different parts of the project.</p>
<p><strong>GitHub is less useful if</strong> you have a lot of non-text files (e.g.&nbsp;Word or PowerPoint) and different team members might want to edit the same document at the same time. In that instance, a solution like Google Docs, Word+Dropbox, Word+Onedrive, etc. might be better.</p>
<p><strong>GitHub also has a problem with <em>large files</em></strong>. Anything above around 50MB can lead to very slow syncing and sometimes outright failure. Unfortunately, once GitHub has choked on a large file, it can be quite tricky to fix the repository to work again. <em>This is because the ENTIRE history is saved, including the addition of the huge file.</em> Therefore keep large (&gt;50MB) files out of your GitHub repositories. If you have to work with such files, try to reduce them first before placing into the GitHub repository. Or as alternative, place those files in another sync service (e.g.&nbsp;Dropbox, OneDrive, GoogleDrive) and load them from there.</p>
<p><strong>Finally, if you have <em>data</em></strong>, you need to be careful since by default, GitHub repositories are public. You can set the repository to private, but you need to be careful that you don‚Äôt accidentally expose confidential data to the public. It is in general not a good idea to have confidential data on GitHub. First anonymize your data (ensure that it is not at risk of identifiability), then you can place it in a private repository. If you put it in a public repo, be very careful!! (And you may need IRB approval, check with your institutional research office.)</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Git/GitHub has version control features like a turbo-charged version of ‚Äútrack changes‚Äù but more rigorous, powerful, and scaled up to multiple files</li>
<li>Great for solo or collaborative work</li>
<li>Saves the entire history of every change made</li>
<li>Allows for multiple verisions or ‚Äúbranches‚Äù to be developed and later merged</li>
<li>GitHub allows distributed collaboration (potentially among complete strangers) and has greatly promoted open-source software development, collaboration, distribution, and bug/issue tracking for users to get help</li>
<li>GitHub allows <em>webpages</em> for your projects or repositories</li>
</ul>
</div>
</div>
<p>Note that other interfaces to <em>Git</em> exist, e.g., <em>Bitbucket</em>, but <em>GitHub</em> is the most widely used one.</p>
</section>
<section id="why-use-gitgithub" class="level2">
<h2 class="anchored" data-anchor-id="why-use-gitgithub">Why use git/GitHub?</h2>
<p>You want to use <em>GitHub</em> to avoid this:</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/phdversioncontrol.gif" class="img-fluid figure-img" style="width:50.0%"></p>
<p></p><figcaption class="figure-caption">How not to use GitHub <a href="http://phdcomics.com/comics/archive_print.php?comicid=1531">image from PhD Comics</a></figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>To learn a bit more about Git/GitHub and why you might want to use it, <a href="https://peerj.com/preprints/3159/">read this article by Jenny Bryan</a>.</p>
<p><strong>Note her explanation of what‚Äôs special with the <code>README.md</code> file on GitHub.</strong></p>
</section>
<section id="how-to-use-gitgithub" class="level2">
<h2 class="anchored" data-anchor-id="how-to-use-gitgithub">How to use Git/GitHub</h2>
<p>Git/GitHub is fundamentally <strong>based on commands you type into the command line</strong>. Lots of online resources show you how to use the command line. This is the most powerful, and the way I almost always interact with git/GitHub. However, many folks find this the most confusing way to use git/GitHub. Alternatively, there are graphical interfaces.</p>
<ul>
<li><a href="https://desktop.github.com/">GitHub itself</a> provides a grapical interface with basic functionality.</li>
<li>RStudio also has <a href="https://happygitwithr.com/rstudio-git-github.html">Git/GitHub integration</a>. Of course this only works for R project GitHub integration.</li>
<li>There are also third party GitHub clients with many advanced features, most of which you won‚Äôt need initially, but might eventually.</li>
</ul>
<p><strong>Note</strong>: As student, you can (and should) upgrade to the Pro version of GitHub for free (i.e.&nbsp;access to unlimited private repositories is one benefit), see the <a href="https://education.github.com/pack">GitHub student developer pack</a> on how to do this.</p>
</section>
</section>
<section id="getting-started-with-git" class="level1">
<h1>Getting Started with git</h1>
<p>One of my favorite resources for getting started with git/GitHub is the Happy Git with R from Jenny Bryan (especially for Rstudio users):</p>
<ul>
<li><a href="https://happygitwithr.com" class="uri">https://happygitwithr.com</a></li>
</ul>
<p>It is one of the <strong>most comprehensive resources</strong> out there for getting started with git/GitHub. I will encourage all of you to go read through the online book. Some of you may only need to skim it, others will need to spend some time reading through it. Either way, I hope you will agree it is a worthwhile investment to understand the basics as well as to know you can get help.</p>
<section id="sec-profile" class="level2">
<h2 class="anchored" data-anchor-id="sec-profile">Set up your profile in git on your computer</h2>
<p>Before making changes to your repository, GitHub will want to verify your identity.</p>
<p>In order for your computer to talk to GitHub smoothly, you will need to set up your <strong>username</strong> and <strong>email</strong> in the <strong>git profile</strong> stored on your computer.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Be sure to match</strong> your GitHub account <code>username</code> and <code>email</code>! Otherwise <em>GitHub</em> won ªt know who you are</p>
</div>
</div>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="fu" style="color: #4758AB;">git</span> config <span class="at" style="color: #657422;">--global</span> user.name <span class="st" style="color: #20794D;">'GitHubUsername'</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">git</span> config <span class="at" style="color: #657422;">--global</span> user.email <span class="st" style="color: #20794D;">'GitHub_email@example.com'</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">git</span> config <span class="at" style="color: #657422;">--global</span> <span class="at" style="color: #657422;">--list</span></span></code></pre></div>
</div>
<p>That last line will show all of your current <code>git config</code> settings.</p>
<p>If you are using Rstudio, easy directions are provided here <a href="https://happygitwithr.com/hello-git.html" class="uri">https://happygitwithr.com/hello-git.html</a></p>
</section>
<section id="sec-token" class="level2">
<h2 class="anchored" data-anchor-id="sec-token">Set up your Personal Authentication Token on your computer</h2>
<p>GitHub will also want to check your credentials to authenticate you are really you before writing changes to your repo.</p>
<p>There are several ways to do this, but the easiest is the protocol for HTTP authentication. You will generate a <em>Personal Access Token</em> for HTTPS from your GitHub account which will be stored on your personal machine.</p>
<p>I prefer the GithHub command line interface or <code>gh</code> to do this. To install the CLI, follow <a href="https://github.com/cli/cli#installation">the instructions here for your operating system</a>. For Mac users, I suggest that you install <code>homebrew</code>, it is a command-line general software manager for many different software packages.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Storing your Personal Access Token
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>From GitHub: Generate your personal access token <a href="https://happygitwithr.com/https-pat.html#get-a-pat">instructions</a>
<ol type="a">
<li>Find the token generator on GitHub under your <em>User Icon &gt; settings &gt; developer settings (left side bar) &gt; Personal access tokens &gt; Tokens (classic) &gt; Generate new Token &gt; classic</em> <strong>note this menu may change</strong></li>
<li>Select at least these scopes: ‚Äúadmin:org‚Äù,‚Äúrepo‚Äù, ‚Äúuser‚Äù, ‚Äúgist‚Äù, and ‚Äúworkflow‚Äù</li>
</ol></li>
<li>From your Command Line: Use <code>gh auth login</code> to store your token and follow the prompts.
<ol type="a">
<li>select <code>HTTPS</code> for your preferred protocol</li>
<li>select <code>Y</code> for authenticate with GitHub credentials</li>
<li>Alternatively if you want to do this all from the command line you can run the following line (if your token is saved in <code>mytoken.txt</code>):</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;">gh</span> auth login <span class="at" style="color: #657422;">--with-token</span> <span class="op" style="color: #5E5E5E;">&lt;</span> mytoken.txt</span></code></pre></div>
</div></li>
</ol>
</div>
</div>
<p>Many more details are explained nicely here <a href="https://happygitwithr.com/https-pat.html" class="uri">https://happygitwithr.com/https-pat.html</a></p>
<p>You only have to store your credentials once for each computer (or PAT expiration date), then you can push and pull from GitHub to your heart ªs content. It really is a nice way to do things securely.</p>
</section>
<section id="configuring-your-default-git-editor" class="level2">
<h2 class="anchored" data-anchor-id="configuring-your-default-git-editor">Configuring your default git editor</h2>
<p>You may want to set your default git editor to something you know how to use (it will come up when you have a merge conflict).</p>
<p>For example the nano editor is easy to use on the command line for a Unix shell:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Mac/Linux</strong></pre>
</div>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;">$</span> git config <span class="at" style="color: #657422;">--global</span> core.editor <span class="st" style="color: #20794D;">"nano -w"</span></span></code></pre></div>
</div>
<p><em>The Carpentries</em> provide a <a href="https://swcarpentry.github.io/git-novice/02-setup/#line-endings">full list of editors</a> by operating system, a great resource.</p>
</section>
</section>
<section id="using-gitgithub-in-our-course" class="level1">
<h1>Using git/GitHub in our course</h1>
<p>In this course, you will use git/GitHub in the following ways:</p>
<ol type="1">
<li>Project 0 (optional) - You will create a website introducing yourself to folks in the course and deploy it on GitHub.</li>
<li>Projects 1-4 - You can practice using git locally (on your compute environment) to track your changes over time and, if you wish (but highly suggested), you can practice pushing your project solutions to a private GitHub repository on your GitHub account (i.e.&nbsp;<code>git add</code>, <code>git commit</code>, <code>git push</code>, <code>git pull</code>, etc) .</li>
</ol>
<p>Learning these skills will be useful down the road if you ever work collaboratively on a project (i.e.&nbsp;writing code as a group). In this scenario, you will use the skills you have been practicing in your projects to work together as a team in a single GitHub repository.</p>
</section>
<section id="clone-a-repo-to-your-local-directory---easy" class="level1">
<h1>Clone a repo to your local directory - Easy!</h1>
<p>Cloning an existing repo from GitHub is easy. Let ªs clone the <strong>rclassdata</strong> repo to our local git folder within your Documents folder. 1. Go to <a href="https://github.com/mbutler808/rclassdata" class="uri">https://github.com/mbutler808/rclassdata</a> and click on the green <strong>&lt;&gt;Code</strong> button and copy the URL.</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/github_cloning.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Cloning from an existing repo</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="1">
<li>In your Terminal or CMD prompt, navigate to your git folder (create one in Documents if you don ªt have one already), and clone the repo:</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal(Mac/Linux)</strong></pre>
</div>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="bu" style="color: null;">pwd</span></span>
<span id="cb4-2"><span class="bu" style="color: null;">cd</span> ~/Documents/git  <span class="co" style="color: #5E5E5E;"># navigate to your git folder</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;">git</span> clone https://github.com/mbutler808/rclassdata.git</span></code></pre></div>
</div>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>CMD(Windows)</strong></pre>
</div>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="fu" style="color: #4758AB;">dir</span></span>
<span id="cb5-2"><span class="bu" style="color: null;">cd</span> ~/Documents/git  <span class="co" style="color: #5E5E5E;"># navigate to your git folder</span></span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;">git</span> clone https://github.com/mbutler808/rclassdata.git</span></code></pre></div>
</div>
<p>If you set up your personal access token, it should appear on your computer! If not, go back to Section&nbsp;4.2 and try again.</p>
</section>
<section id="make-a-github-repo-started-from-your-local-files" class="level1">
<h1>Make a GitHub repo started from your local files</h1>
<p>Suppose you have some files on your computer and you ªd like to make them into a repo. For this example, we ªre going to make a repo called <strong>test</strong></p>
<ol type="1">
<li>Create a folder in your <code>Documents/git</code> directory called <code>test</code> and copy some files there.</li>
<li>Go to your GitHub account and create a new repository. Click on the small black + on the top right corner</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/git_newrepo.png" class="img-fluid figure-img" style="width:50.0%"></p>
<p></p><figcaption class="figure-caption">Create a new repo button</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ol start="3" type="1">
<li>Give your new repo a name (‚Äútest‚Äù) and choose to create a blank repo with no README.md or .gitignore. We can add them later.</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/git_create_new_repo.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Set up a blank repo</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ol start="4" type="1">
<li>You will see the following page giving you helpful hints for linking your GitHub repo with your local repo. We will follow the first set of instructions, slightly modified.</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/images/github_quicksetup.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p>Explantations for each line of code:</p>
<ul>
<li><code>echo "# test" &gt;&gt; README.md</code> Write <code># test</code> to <code>README.md</code> which will be created since it doesn ªt already exist</li>
<li><code>git init</code> Intializes the local repo to set up git tracking (only need to to this once)</li>
<li><code>git add .</code> Adds (. = all) our files and commits any changes to the repo</li>
<li><code>git commit -m "first commit"</code> Commit message</li>
<li><code>git branch -M main</code> Renames the local branch to main</li>
<li><code>git remote add origin URL</code> Connect the remote repo (=‚Äúorigin‚Äù on GitHub) to our local repo. Be sure to copy the appropriate URL for your own GitHub repo.</li>
<li><code>git push -u origin main</code> Push our local changes (in main) up to the remote (to a parallel branch main on origin).</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="bu" style="color: null;">echo</span> <span class="st" style="color: #20794D;">"# test"</span> <span class="op" style="color: #5E5E5E;">&gt;&gt;</span> README.md</span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;">git</span> init</span>
<span id="cb6-3"><span class="fu" style="color: #4758AB;">git</span> add .</span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;">git</span> commit <span class="at" style="color: #657422;">-m</span> <span class="st" style="color: #20794D;">"first commit"</span></span>
<span id="cb6-5"><span class="fu" style="color: #4758AB;">git</span> branch <span class="at" style="color: #657422;">-M</span> main</span>
<span id="cb6-6"><span class="fu" style="color: #4758AB;">git</span> remote add origin https://github.com/mbutler808/test.git</span>
<span id="cb6-7"><span class="fu" style="color: #4758AB;">git</span> push <span class="at" style="color: #657422;">-u</span> origin main</span></code></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
GitHub requires authentication to overwrite your repository (this is a good thing üòÉüëç)
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Did <em>GitHub</em> complain that it doesn ªt know your <strong>username</strong> or <strong>email</strong>?</li>
</ul>
<p>This might be because the defaults on your computer don ªt match what you used to register for your GitHub account. Not to worry, just set it to match your GitHub account here: Section&nbsp;4.1</p>
<ul>
<li>Did <em>GitHub</em> complain that your <strong>authentication</strong> failed?</li>
</ul>
<p>Don ªt worry, just try it again: Section&nbsp;4.2. Nice bonus, you only have to do it once for each computer.</p>
</div>
</div>
<ol start="5" type="1">
<li>Check your remote repo. The files from your computer should be there!</li>
<li>Now try pushing up another change. Make some edits to one or more local files.</li>
<li>Add, Commit, Push:</li>
</ol>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="fu" style="color: #4758AB;">git</span> add .</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;">git</span> commit <span class="at" style="color: #657422;">-m</span> <span class="st" style="color: #20794D;">"made a small change"</span></span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;">git</span> push origin main</span></code></pre></div>
</div>
<p>Check your remote repo. Did it go up? Well done! üòç</p>
<p>Your local files and your GitHub repository files are now synced!</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mbutler808.github.io/images/With-Git-all-contributors-have-a-copy-of-the-repo-with-all-files-and-the-full-history_W640.jpeg" class="img-fluid figure-img" style="width:80.0%"></p>
<p></p><figcaption class="figure-caption">Everyone is one with the repo</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>[<a href="https://peerj.com/preprints/3159/">Source: Jenny Bryan</a>]</p>
<ol start="8" type="1">
<li>The nuclear option</li>
</ol>
<p>If you need to start over you can delete and remake your repos. (For example if you can ªt get your local and remote repos to communicate and you can ªt figure out why.)</p>
<p>Since your GitHub repo is empty and you ªre just getting started, there is really no harm in deleting it and starting over. From your repo on github.com, go to <code>settings</code>, then scrolll all the way down until you reach <code>The Danger Zone</code> where you will find the <code>Delete this repository</code> button.</p>
<p>If you just want to delete your local git tracking without deleting all of the files you created, you can just delete your local hidden <code>.git</code> directory, leaving the rest of the files and directories in place. From your command line:</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
NOTE: This will delete your local git history, and is not reversible.
</div>
</div>
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;">rm</span> <span class="at" style="color: #657422;">-rf</span> .git</span></code></pre></div>
</div>
</div>
</div>
</section>
<section id="a-word-about-merge-conflicts" class="level1">
<h1>A word about merge conflicts</h1>
<p>Sooner or later, you will encounter a merge conflict. That happens if the same file(s) changed both locally and on GitHub.com. That can happen if multiple people work on the same files, or if you work on multiple computers and forget to always push/pull before and after you work on a project. Don ªt get discouraged, this is solvable!</p>
<p>Sometimes you have to do it manually. Moving the offending files out of your local repository, then doing the merge and after that adding the updates again can help. If you know that one source is the definite one, you can force a push or pull. A more advanced approach is to use branches.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="fu" style="color: #4758AB;">git</span> push <span class="at" style="color: #657422;">--force</span></span></code></pre></div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The main danger is that a force push or pull will force git to write over a conflict, and can possibly destroy someone else ªs work. If you ªre the only one on the repo, then it ªs only your changes that you ªll lose</li>
<li>Just be aware but don ªt be afraid to practice. You can always revert back.</li>
<li>See the help page for <a href="https://git-scm.com/docs/git-push">git push</a>. See the -f or ‚Äìforce flag. It ªs terse computer help, but if you make the effort it will start to make sense.</li>
<li>I ªll link a more tutorial type resource later</li>
</ul>
</div>
</div>
</section>
<section id="forking-a-repo" class="level1">
<h1>Forking a repo</h1>
<p>When you want to build on someone else ªs repo, that is a great time to <strong>fork</strong> a repo. This happens when you don ªt have write permission to the repo, but you want provide suggestions (for example if you want to fix a bug). Or if you want to use that repo as a template or a launching off point for your own project.</p>
<p>After you fork and clone the repo to your computer, you can edit, add, and commit the changes. When you are ready to submit the suggestions to the repo owner, start a <strong>pull request</strong>. They will then read over your suggested edits, and if they approve they can merge the changes into the working repo.</p>
<p><strong>Forks</strong> are nice because they remain connected to the parent repo in GitHub. So you can seamlessly work on your own private copy and send it back to the original project when you are ready.</p>
<p><strong>Branches</strong> work in a similar way. The idea is simple. If you have a working repo, you don ªt want to made edits or experimental changes to <strong>main</strong> that may break the functionality. Branches are a way to make a ‚Äúdevelopment branch‚Äù where you can work on your ideas in private without breaking anything. When you ªre sure you have everything ironed out and working, you can merge your branch back to <strong>main</strong>, and delete your branch. They are meant to be an ephemeral scratch copy to keep the project clean, organized, and working perfectly.</p>
</section>
<section id="post-lecture-materials" class="level1">
<h1>Post-lecture materials</h1>
<section id="final-questions" class="level3">
<h3 class="anchored" data-anchor-id="final-questions">Final Questions</h3>
<p>Here are some post-lecture questions to help you think about the material discussed.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>What is version control?</p></li>
<li><p>What is the difference between git and GitHub?</p></li>
<li><p>What are some benefits and case uses for repositories with version control using git and GitHub?</p></li>
</ol>
</div>
</div>
</section>
<section id="additional-resources" class="level3">
<h3 class="anchored" data-anchor-id="additional-resources">Additional Resources</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://rafalab.github.io/dsbook/git.html">git and GitHub in the <code>dsbook</code></a> by Rafael Irizarry</li>
</ul>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>module 1</category>
  <category>week 2</category>
  <category>programming</category>
  <category>version control</category>
  <category>git</category>
  <category>GitHub</category>
  <guid>https://mbutler808.github.io/posts/2023-01-24-intro-git-github/index.html</guid>
  <pubDate>Tue, 24 Jan 2023 10:00:00 GMT</pubDate>
</item>
<item>
  <title>Introduction to your computer ªs terminal utilities</title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-19-your-computer-filesystems/index.html</link>
  <description><![CDATA[ 




<!-- Add interesting quote -->
<section id="pre-lecture-materials" class="level1">
<h1>Pre-lecture materials</h1>
<section id="read-ahead" class="level3">
<h3 class="anchored" data-anchor-id="read-ahead">Read ahead</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Read ahead
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>For future lectures, I ªll give you some reading or podcasts to prepare</strong></p>
</div>
</div>
</section>
<section id="acknowledgements" class="level3">
<h3 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h3>
<p>Material for this lecture was borrowed and adopted from</p>
<ul>
<li><a href="https://academind.com/tutorials/terminal-zsh-basics" class="uri">https://academind.com/tutorials/terminal-zsh-basics</a></li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level1">
<h1>Learning objectives</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of this lesson you will:</strong></p>
<ul>
<li>Know the shell used in your computer`s operating system.</li>
<li>Know basic shell commands and when you might want to use them.</li>
<li>Know how to traverse your computer`s filesystem, grab input or put output anywhere.</li>
<li>Understand the difference between relative and absolute file paths.</li>
<li>Know how to create and manipulate files through the shell.</li>
</ul>
</div>
</div>
</section>
<section id="introduction-to-the-shell" class="level1">
<h1>Introduction to the shell</h1>
<p>This document gives a brief explanation of your computer ªs filesystems and how we will use the command line for this course.</p>
<section id="the-kernel" class="level2">
<h2 class="anchored" data-anchor-id="the-kernel">The kernel</h2>
<p>The <em>kernel</em> is the part of your computer ªs operating system that loads first once you start up. It is kind of like your computer ªs autonomic nervous system. It recognizes all of the physical hardware attached to it, enables communication between components (and device drivers), and monitors maintenance functions like turning on the fan when it gets hot, manages virtual memory, gives warnings when the hard drive gets full, manages multitasking, and manages security and file permissions. In the mac this is the XNU kernel, in modern Windows machines it is the Windows NT kernel.</p>
<div class="cell fig-cap-location-top">
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/posts/2023-01-19-your-computer-filesystems/https:/www.linuxandubuntu.com/ezoimgfmt/i0.wp.com/www.linuxandubuntu.com/wp-content/uploads/2019/07/macos-kernel-resources.jpg?w=1295&amp;ssl=1&amp;ezimgfmt=rs:275x519/rscb34/ngcb34/notWebP.png" class="img-fluid"></p>
</div>
</div>
<p>[<a href="https://www.linuxandubuntu.com/home/difference-between-linux-kernel-mac-kernel">Source: Map of MacOS: the heart of everything is called Darwin; and within it, we have separate system utilities (the shell) and the XNU kernel, which is composed in parts by the Mach kernel and by the BSD kernel.</a>]</p>
</section>
<section id="the-shell" class="level2">
<h2 class="anchored" data-anchor-id="the-shell">The shell</h2>
<p>The <strong>shell</strong> is another key part of the core operating system (note in the diagram above it is part of the <strong>System Utilities</strong>, and the partner of the kernel). The shell is a software (an app) that allows humans to control the computer. You are already familiar with the <em>GUI</em> interface, or the <em>Graphical User Interface</em>. It is important that you are comfortable using the <em>Command Line Interface</em> as well.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
There are many reasons to be proficient in the shell:
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Data analysis increasingly uses many files. The shell provides a simple but very powerful means to do all kinds of operations on files: move, delete, organize, combine, rename, etc.</li>
<li>Using the shell encourages you to understand your computer ªs filesystem, and helps you to more precisely control input and output to any place along your file paths.</li>
<li>Shell operations are fast.</li>
<li>You can use wildcards to control matching or excluding many files.</li>
<li>The shell can be used to execute (run) software.</li>
<li>The shell is probably the oldest app, so it is very stable with lasting power.</li>
<li>It is part of the OS, so when your apps fail or you are having some issues, you would turn to the shell to kill troublesome processes (programs) or diagnose and fix the issues.</li>
</ul>
</div>
</div>
<p>Macs use the same terminal utilities as UNIX/Linux systems. On the Mac, the command line interface app is called <em>Terminal</em>, which you will find in your <em>Application</em> folder, in the <em>Utilities</em> subfolder (here is a screentshot of our GUI Interface).</p>
<div class="cell fig-cap-location-top">
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/posts/2023-01-19-your-computer-filesystems/terminal.png" class="img-fluid"></p>
</div>
</div>
<p>On a PC you would use the <em>Command Prompt</em> otherwise known as the <em>Windows Command Processor</em> or <em>CMD</em>. If you used a pre-Windows machine, you would be familiar with MS-DOS. To open CMD:</p>
<ol type="1">
<li>Open the Start Menu and type ‚Äúcommand prompt‚Äù or</li>
<li>Press <strong>Win + R</strong> and type ‚Äúcmd‚Äù in the run box or</li>
<li>Press <strong>Win + X</strong> and select Command Prompt from the menu.</li>
</ol>
<p>Note: you may see <em>Windows PowerShell</em> or <em>Windows Terminal</em> instead, these are similar apps.</p>
</section>
</section>
<section id="the-working-directory" class="level1">
<h1>The Working Directory</h1>
<p>By default, the working directory on a Mac and UNIX/Linux systems is your home user directory ‚Äú~‚Äù. On a PC the default working directory may looks something like a subdirectory of your C drive ‚ÄúC:[Username]".</p>
<p>This is where you currently are in your computer ªs file structure.</p>
<p>First, lets check where we are by listing the files in our current directory. Note that some shell commands differ between different shells (i.e.&nbsp;UNIX vs.&nbsp;PC). Listing the contents of a directory is done with <strong>ls</strong> in UNIX and <strong>dir</strong> in PC:</p>
<div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true">Mac/UNIX</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">PC</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb1-1"><span class="fu" style="color: #4758AB;">ls</span></span></code></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1">dir</span></code></pre></div>
</div>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
An important principle of programming is <strong>VERIFICATION</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Always check that it worked</strong> ‚Äì at each step!</li>
<li>You should check the new commands that you are learning against something that you KNOW WORKS.</li>
<li>Here, since you are familiar with the GUI, as you are doing these new command line operations, keep a GUI window open to verify.</li>
<li>You should also check on the command line by listing the directory after you add or move files etc.</li>
</ul>
</div>
</div>
<p>Please make a folder for your work in a convenient place and call it ‚ÄúRclass‚Äù. On a Mac you may want to put it in ‚ÄúDocuments‚Äù. Start by navigating into your Documents folder or other such folder where you want your Rclass work to be saved. <strong>cd</strong> is for <em>change directory</em>, and the syntax is <strong>cd Foldername</strong>:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb3-1"><span class="bu" style="color: null;">cd</span> Documents</span></code></pre></div>
</section>
<section id="making-a-new-folder-from-the-command-line" class="level1">
<h1>Making a new folder from the command Line</h1>
<p>In both systems, the <strong>mkdir</strong> command for <em>make directory</em> will create a new folder, and <strong>cd</strong> will change directories. :</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb4-1"><span class="fu" style="color: #4758AB;">mkdir</span> Rclass</span>
<span id="cb4-2"><span class="bu" style="color: null;">cd</span> Rclass</span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;">ls</span>  <span class="co" style="color: #5E5E5E;"># or dir in PC</span></span></code></pre></div>
<p>You have now created the Rclass directory, changed directory again into Rclass, and listed files. (It should be empty.)</p>
<p>This seems like a lot of trouble, when you can just point and click in the GUI. But the beauty of the shell is its power. We can automate actions, execute code, and use wildcards to do many at once (coming up below).</p>
<p>Let ªs say you wanted to create files in a new subfolder. <strong>touch</strong> is a command that creates a new (empty) file, or alters the timestamp of existing files.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true">Mac/UNIX</a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false">PC</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb5-1"><span class="fu" style="color: #4758AB;">mkdir</span> shell</span>
<span id="cb5-2"><span class="bu" style="color: null;">cd</span> shell</span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;">touch</span> dat.txt  <span class="co" style="color: #5E5E5E;"># PC does not have the touch function</span></span></code></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb6-1"><span class="fu" style="color: #4758AB;">mkdir</span> shell</span>
<span id="cb6-2"><span class="bu" style="color: null;">cd</span> shell</span>
<span id="cb6-3"><span class="bu" style="color: null;">type</span> nul <span class="op" style="color: #5E5E5E;">&gt;</span> dat.txt  <span class="co" style="color: #5E5E5E;"># for PC use type nul with pipe instead of touch</span></span></code></pre></div>
</div>
</div>
</div>
<p>Check that you have a subfolder within Rclass that has one file named dat.txt.</p>
<p>Suppose we wanted to create 10 files. You can so easily in the UNIX shell:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb7-1"><span class="fu" style="color: #4758AB;">touch</span> dat<span class="dt" style="color: #AD0000;">{</span><span class="dv" style="color: #AD0000;">1</span><span class="dt" style="color: #AD0000;">..</span><span class="dv" style="color: #AD0000;">10</span><span class="dt" style="color: #AD0000;">}</span>.txt  <span class="co" style="color: #5E5E5E;"># for PC type nul &gt; dat1.txt multiple times</span></span></code></pre></div>
<div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" aria-controls="tabset-3-1" aria-selected="true">Mac/UNIX</a></li><li class="nav-item"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" aria-controls="tabset-3-2" aria-selected="false">PC</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" aria-labelledby="tabset-3-1-tab">
<p>To check your files timestamps list files with the -l flag:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb8-1"><span class="fu" style="color: #4758AB;">ls</span> <span class="at" style="color: #657422;">-l</span></span></code></pre></div>
<p>The -a flag shows hidden files. You can do both at once:</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb9-1"><span class="fu" style="color: #4758AB;">ls</span> <span class="at" style="color: #657422;">-la</span></span></code></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" aria-labelledby="tabset-3-2-tab">
<p>The <strong>dir</strong> command provides the timestamp as well as other information.</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb10-1"><span class="fu" style="color: #4758AB;">dir</span></span></code></pre></div>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Exercise:
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create 20 files with the .jpg file extension.</li>
<li>List your files now.</li>
<li>Create 2 subdirectories, one called ‚ÄúData‚Äù and one called ‚ÄúImages‚Äù</li>
</ol>
</div>
</div>
</section>
<section id="more-useful-commands-move-copy-remove-and-friends" class="level1">
<h1>More useful commands <strong>move</strong> <strong>copy</strong> <strong>remove</strong> and friends</h1>
<p>Some additional very useful commands are those for moving, copying, and removing (deleting) files. These can operate on your current directory, or you can add the <em>path</em> to your file. For example, to move your file into the Data subdirectory:</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb11-1"><span class="fu" style="color: #4758AB;">mv</span> dat1.txt Data/dat1.txt</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;">ls</span></span>
<span id="cb11-3"><span class="fu" style="color: #4758AB;">ls</span> Data</span></code></pre></div>
<p>Anywhere where you can indicate a filename, you can also add a path to that file.</p>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 25%">
<col style="width: 33%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>function</th>
<th>UNIX</th>
<th>Windows CMD</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>move</td>
<td>mv filename newlocation</td>
<td>move filename newlocation</td>
<td>mv dat1.txt Data</td>
</tr>
<tr class="even">
<td>copy</td>
<td>cp filename newfilename</td>
<td>copy filename newfilename</td>
<td>cp dat1.txt catcat.txt</td>
</tr>
<tr class="odd">
<td>remove</td>
<td>rm filename</td>
<td>del filename</td>
<td>rm dat1.txt</td>
</tr>
<tr class="even">
<td>remove directory</td>
<td>rmdir Directory</td>
<td>rmdir Directory</td>
<td>rmdir Data</td>
</tr>
<tr class="odd">
<td>concatenate (combine)</td>
<td>cat file1 file2</td>
<td>cat file1 file2</td>
<td>cat dat1.txt dat2.txt</td>
</tr>
<tr class="even">
<td>concatenate to new file</td>
<td>cat file1 file2 &gt; file3</td>
<td>cat file1 file2 &gt; file3</td>
<td>cat dat1.txt dat2.txt &gt; alldat.txt</td>
</tr>
<tr class="odd">
<td>list files</td>
<td>ls</td>
<td>dir</td>
<td></td>
</tr>
<tr class="even">
<td>get working directory</td>
<td>pwd</td>
<td>cd</td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Note: UNIX commands are case-sensitive, Windows commands are not.</em> <em>Apologies in advance for any Windows command errors - I ªm really not an expert. Please let me know so I can fix it. Thank you!</em></p>
</section>
<section id="wildcards" class="level1">
<h1>Wildcards</h1>
<p>You can also select multiple files at once using wildcards. If you want to grab all of the .txt files, for example, you can do:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb12-1"><span class="fu" style="color: #4758AB;">cp</span> <span class="pp" style="color: #AD0000;">*</span>.txt Data</span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;">ls</span>  <span class="co" style="color: #5E5E5E;"># PC: use dir</span></span>
<span id="cb12-3"><span class="fu" style="color: #4758AB;">ls</span> Data <span class="co" style="color: #5E5E5E;"># PC: use dir Data</span></span></code></pre></div>
<p>And you should have copied <em>all</em> files that end in .txt into Data. You could alternatively used dat* which will select all files that begin with ‚Äúdat‚Äù but can end in anything else. The * will match any characters (zero or more).</p>
<p>There are a lot of other wildcards that you can use.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Exercise:
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Move all of your data files into Data, and all of your image files into Images.</li>
<li>Remove any straggler files from the top level of shell, if you used the copy command.</li>
<li>List files from shell, Data, and Images.</li>
</ol>
</div>
</div>
</section>
<section id="relative-paths-vs.-absolute-paths" class="level1">
<h1>Relative paths vs.&nbsp;Absolute paths</h1>
<p>In the Mac, there are two important <em>shortcuts</em>:</p>
<ul>
<li>‚Äú/‚Äù : The root directory of your entire computer, indicated by ‚Äú/‚Äù.</li>
<li>‚Äú~‚Äù : The root of your user directory, which for me is ‚Äúmarguerite‚Äù. From the root directory, it will be ‚Äú/Users/username‚Äù</li>
</ul>
<p>In PCs, your root user directory in CMD is usually something like:</p>
<ul>
<li>‚ÄúC:\User\username" : this would be the root of your user Directory</li>
<li>The root of the C drive is ‚ÄúC:"</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note:
</div>
</div>
<div class="callout-body-container callout-body">
<p>On PCs pay attention to the direction of the slashes when you type <strong>dir</strong> is it ‚Äú/‚Äù or ‚Äú\‚Äù ? When you type your filepaths, be sure to use the right type of slash.</p>
</div>
</div>
<p>Check out what is in these directories:</p>
<div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" aria-controls="tabset-4-1" aria-selected="true">Mac/UNIX</a></li><li class="nav-item"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" aria-controls="tabset-4-2" aria-selected="false">PC</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb13-1"><span class="fu" style="color: #4758AB;">ls</span> /</span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;">ls</span> ~</span></code></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" aria-labelledby="tabset-4-2-tab">
<p>Shortcuts in Windows are called Windows Environment Path Variables:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb14-1"><span class="fu" style="color: #4758AB;">dir</span> %UserProfile%  <span class="co" style="color: #5E5E5E;"># is this C:\\Users\\{username} ?</span></span>
<span id="cb14-2"><span class="fu" style="color: #4758AB;">dir</span> %SystemDrive%   <span class="co" style="color: #5E5E5E;"># is this C: ?</span></span></code></pre></div>
<p>With the advent of the OneDrive, there is now a parallel user directory in OneDrive that also has Documents, etc.</p>
<p>Don ªt get confused! ‚ÄúC:" drive is not the‚ÄùOneDrive‚Äù. (the OneDrive is a location on your hard drive, sometimes on C:, sometimes on D:) Windows makes use of a lot of symbolic links to make it easier for the user. These are different directories, sometims on different drives or partitions, but to the user it looks like they ªre in the same folder). Symbolic links can be generally used in filepaths, but it can be very confusing if you accidentally end up with a circular reference or when you need to find the actual location on the hard drive.</p>
<p>Use the ‚Äú\ad‚Äù flag with <strong>dir</strong> to see all of the symbolic links too. They call these symbolic links <em>namespace junctions</em>.</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb15-1"><span class="fu" style="color: #4758AB;">dir</span> %UserProfile% <span class="dt" style="color: #AD0000;">\\</span>ad</span></code></pre></div>
</div>
</div>
</div>
<p>You can use these as shortcuts as starting points for your path to basically write an absolute path. This becomes important when you write a script that may be moved to different locations or shared with different people on different computers.</p>
<p>For example, ‚Äúcd ~/Documents‚Äù will take you to the Documents folder inside your user directory, regardless of where you are currently because it is an <strong>absolute path</strong>.</p>
<p>A <strong>relative path</strong> will traverse the file directory <em>relative</em> to where you are currently. For example ‚ÄúDocuments‚Äù will start at current working directory and look for a subfolder called Documents:</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb16-1"><span class="fu" style="color: #4758AB;">ls</span> Documents  <span class="co" style="color: #5E5E5E;"># relative path, is there a Documents folder here?</span></span></code></pre></div>
<p>In contrast, an absolute path will start from the very beginning of your root directory and contain the complete path.</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb17-1"><span class="fu" style="color: #4758AB;">ls</span> <span class="pp" style="color: #AD0000;">~</span><span class="dt" style="color: #AD0000;">\D</span>ocuments <span class="co" style="color: #5E5E5E;"># this is an absolute path because ~ = "\Users\marguerite"</span></span></code></pre></div>
<p>On the Mac, an asbolute path will start with ‚Äú" (or a shortcut that contains a starting‚Äù"), whereas on a PC an absolute path will start with ‚ÄúC:‚Äù</p>
</section>
<section id="navigating-your-filedirectories" class="level1">
<h1>Navigating your filedirectories</h1>
<section id="the-dots" class="level2">
<h2 class="anchored" data-anchor-id="the-dots">The dots</h2>
<ul>
<li>‚Äú.‚Äù is the current working directory (where you are currently)</li>
<li>‚Äú..‚Äù is the directory one level up</li>
<li>‚Äú./foldername‚Äù will take you to the folder one level down, for example ‚Äú./Data‚Äù</li>
</ul>
<p>You can use these paths to move directories using <em>cd</em> or to list the contents of the directories using <em>ls</em> or to make new directories using <em>mkdir</em></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb18-1"><span class="fu" style="color: #4758AB;">ls</span> .</span>
<span id="cb18-2"><span class="fu" style="color: #4758AB;">ls</span> ./Data</span>
<span id="cb18-3"><span class="fu" style="color: #4758AB;">mkdir</span> ./Data/A</span></code></pre></div>
<p>Make multiple directories:</p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb19-1"><span class="fu" style="color: #4758AB;">mkdir</span> ./Data/B ./Data/C</span></code></pre></div>
<p>List the files one level up or two levels up:</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb20-1"><span class="fu" style="color: #4758AB;">ls</span> ..  <span class="co" style="color: #5E5E5E;"># for PC use dir ..</span></span>
<span id="cb20-2"><span class="fu" style="color: #4758AB;">ls</span> ../..</span></code></pre></div>
<p>Up one level, and over to another directory:</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb21-1"><span class="fu" style="color: #4758AB;">ls</span> ../AnotherDirectory</span></code></pre></div>
<p>You can wander anywhere along your computer ªs file directory! Just add more steps to the path.</p>
</section>
</section>
<section id="executing-software-from-the-command-line" class="level1">
<h1>Executing software from the command Line</h1>
<p>coming soon</p>
</section>
<section id="piping-commands" class="level1">
<h1>Piping commands</h1>
<p>You can redirect output using <em>&gt;</em> and <em>&lt;</em> with the point indicating the direction. Here is an example. First let ªs put some contents into the files, and check the contents with the command ‚Äúless‚Äù (there is also ‚Äúmore‚Äù):</p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb22-1"><span class="bu" style="color: null;">echo</span> <span class="st" style="color: #20794D;">"A"</span> <span class="op" style="color: #5E5E5E;">&gt;</span> dat1.txt</span>
<span id="cb22-2"><span class="fu" style="color: #4758AB;">less</span> dat1.txt</span></code></pre></div>
<p><em>&gt;</em> pipes (or sends) output to the file named ‚Äúdat1.txt‚Äù. If the file doesn ªt exist, it will create it. If it already exists, it will <em>replace</em> the file.</p>
<p>If you want to add on to the file, use ‚Äú&gt;&gt;‚Äù</p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb23-1"><span class="bu" style="color: null;">echo</span> <span class="st" style="color: #20794D;">"Another letter B"</span> <span class="op" style="color: #5E5E5E;">&gt;&gt;</span> dat1.txt</span>
<span id="cb23-2"><span class="fu" style="color: #4758AB;">less</span> dat1.txt</span></code></pre></div>
<p>Output to multiple files:</p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb24-1"><span class="bu" style="color: null;">echo</span> <span class="st" style="color: #20794D;">"c"</span> <span class="op" style="color: #5E5E5E;">&gt;</span>dat2.txt <span class="op" style="color: #5E5E5E;">&gt;</span>dat3.txt</span>
<span id="cb24-2"><span class="fu" style="color: #4758AB;">less</span> dat2.txt</span>
<span id="cb24-3"><span class="fu" style="color: #4758AB;">less</span> dat3.txt</span></code></pre></div>
<p>Concatenate (combine) multiple files using <em>cat</em> and send it to file</p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb25-1"><span class="fu" style="color: #4758AB;">cat</span> dat1.txt dat2.txt dat3.txt</span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;">cat</span> dat1.txt dat2.txt dat3.txt <span class="op" style="color: #5E5E5E;">&gt;</span>all.txt</span>
<span id="cb25-3"><span class="fu" style="color: #4758AB;">less</span> all.txt</span></code></pre></div>
</section>
<section id="post-lecture-materials" class="level1">
<h1>Post-lecture materials</h1>
<section id="final-questions" class="level3">
<h3 class="anchored" data-anchor-id="final-questions">Final Questions</h3>
<p>Here are some post-lecture questions to help you think about the material discussed.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Questions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>What is a command line interface?</p></li>
<li><p>How can using the command line help with file organization or reorganization?</p></li>
<li><p>What is the importance of choosing a good file naming system?</p></li>
<li><p>What is the difference between a relative path and an absolute path?</p></li>
</ol>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
For additional practice:
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Practice making directories with subdirectories A, B, etc. with several levels A1 A2 etc.</p></li>
<li><p>Practice moving files between different directories and at different levels.</p></li>
<li><p>Practice moving junk lying around in your downloads folder into the trash using the command line (or at least putting them into a common folder ‚Äúopala‚Äù folder which you can then manually put into the trash). (FYI on the Mac Trash is in ‚Äú~/.Trash‚Äù so it is a hidden folder)</p></li>
</ol>
</div>
</div>
</section>
<section id="additional-resources" class="level3">
<h3 class="anchored" data-anchor-id="additional-resources">Additional Resources</h3>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://academind.com/tutorials/terminal-zsh-basics">A tutorial for zsh on Macs</a></li>
<li><a href="https://www.educative.io/blog/bash-shell-command-cheat-sheet">Bash shell cheat sheet (mostly works for zsh too)</a></li>
<li><a href="https://www.makeuseof.com/tag/a-beginners-guide-to-the-windows-command-line/">A tutorial for CMD on PCs</a></li>
<li><a href="https://serverspace.us/support/help/windows-cmd-commands-cheat-sheet/">Windows CMD cheat sheet</a></li>
</ul>
</div>
</div>
</section>
<section id="rtistry" class="level2">
<h2 class="anchored" data-anchor-id="rtistry">rtistry</h2>
<div class="cell fig-cap-location-top">
<div class="cell-output-display">
<p><img src="https://mbutler808.github.io/posts/2023-01-19-your-computer-filesystems/https:/github.com/djnavarro/art/raw/master/static/gallery/flametree/extra/001_flametree_20_13.jpg" class="img-fluid"></p>
</div>
</div>
<p>[‚ÄòFlametree‚Äô from Danielle Navarro <a href="https://art.djnavarro.net" class="uri">https://art.djnavarro.net</a>]</p>


</section>
</section>

 ]]></description>
  <category>module 1</category>
  <category>week 1</category>
  <category>programming</category>
  <category>filesystem</category>
  <category>shell</category>
  <guid>https://mbutler808.github.io/posts/2023-01-19-your-computer-filesystems/index.html</guid>
  <pubDate>Thu, 19 Jan 2023 10:00:00 GMT</pubDate>
</item>
<item>
  <title></title>
  <dc:creator>Marguerite Butler</dc:creator>
  <link>https://mbutler808.github.io/posts/2023-01-17-the-big-picture/index.html</link>
  <description><![CDATA[ undefined ]]></description>
  <category>module 1</category>
  <category>week 1</category>
  <category>introduction</category>
  <guid>https://mbutler808.github.io/posts/2023-01-17-the-big-picture/index.html</guid>
  <pubDate>Tue, 17 Jan 2023 10:00:00 GMT</pubDate>
  <media:content url="https://mbutler808.github.io/posts/2023-01-17-the-big-picture/whole-game.png" medium="image" type="image/png" height="49" width="144"/>
</item>
</channel>
</rss>
